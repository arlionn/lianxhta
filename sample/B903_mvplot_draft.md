
**Note-åŠ©æ•™é¡»çŸ¥**ï¼šğŸ 

- ä¸‹æ–‡æ˜¯ç”± AI ç”Ÿæˆçš„åˆç¨¿ï¼Œä½ å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šä¿®æ”¹ã€æ¶¦è‰²ï¼Œä¹Ÿå¯ä»¥å¤§å¹…ä¿®æ”¹ã€‚
  - AI æ— æ³•æ’å…¥å›¾ç‰‡ã€è¡¨æ ¼ç­‰ã€‚è¿™äº›å†…å®¹éœ€è¦ä½ ä»è®ºæ–‡åŸæ–‡ä¸­æˆªå›¾æ’å…¥ï¼Œæœ‰äº›å›¾ç‰‡éœ€è¦æ‰§è¡Œä»£ç åæ’å…¥ã€‚
  - AI æ— æ³•ç›´æ¥è¿è¡Œä»£ç ï¼Œå› æ­¤åˆç¨¿ä¸­çš„ä»£ç éœ€è¦ä½ è‡ªè¡Œè¿è¡Œï¼Œå¹¶å°†ç»“æœé‡‡ç”¨ä»£ç å—çš„å½¢å¼æ’å…¥æ¨æ–‡ä¸­ã€‚ä½ å¯ä»¥å€ŸåŠ© AI è¡¥å……ä¸€äº›é’ˆå¯¹ä»£ç å’Œè¿è¡Œç»“æœçš„è§£é‡Šæ–‡å­—ã€‚
  - AI ç”Ÿæˆçš„åˆç¨¿ä¸­ï¼Œå¯èƒ½ä¼šé—æ¼ä¸€äº›é‡è¦çš„ç»†èŠ‚å’Œå†…å®¹ï¼Œè¯·åŠ¡å¿…å¯¹ç…§è®ºæ–‡åŸæ–‡è¿›è¡Œè¡¥å……å’Œå®Œå–„ï¼Œç¡®ä¿æ¨æ–‡å†…å®¹çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ã€‚
  - AI çš„è¡¨è¿°éš¾å…å­˜åœ¨ã€Œæœºå™¨å‘³ã€ï¼Œå› æ­¤ï¼Œä½ éœ€è¦å¯¹æ¨æ–‡è¿›è¡Œæ¶¦è‰²å’Œä¿®æ”¹ï¼Œä½¿å…¶æ›´ç¬¦åˆäººç±»è¯»è€…çš„é˜…è¯»ä¹ æƒ¯å’Œç†è§£æ–¹å¼ã€‚


----

# B903ï¼šmvplotâ€”â€”æ¨¡å‹è®¾å®šæ•æ„Ÿæ€§åˆ†æåŠå¯è§†åŒ–

> **ä½œè€…ï¼š** xx (xxx)    
> **é‚®ç®±ï¼š** <xxx@xxx.com> 

> **Source**ï¼šæœ¬æ–‡å‚è€ƒäº†å¦‚ä¸‹èµ„æ–™ï¼Œç‰¹æ­¤è‡´è°¢ï¼  
> - Simonsohn, U., Simmons, J. P., & Nelson, L. D. (2020). Specification curve analysis. Nature Human Behaviour, 4(11), 1208â€“1214. [Link](https://doi.org/10.1038/s41562-020-0912-z), [PDF](http://sci-hub.ren/10.1038/s41562-020-0912-z), [Google](<https://scholar.google.com/scholar?q=Specification curve analysis>).
> - Prince, V. L. (2021). Specification Curve Analysis: Overview and Stata Example. Blog Post. [Link](https://hbs-rcs.github.io/post/specification-curve-analysis/).
> - Lenz, G. S., & Sahn, A. (2021). Achieving Statistical Significance with Control Variables and Without Transparency. Political Analysis, 29(3), 356â€“369. [Link](https://doi.org/10.1017/pan.2020.31), [PDF](http://sci-hub.ren/10.1017/pan.2020.31), [Google](<https://scholar.google.com/scholar?q=Achieving Statistical Significance with Control Variables and Without Transparency>).

&emsp; 

- **Title**: mvplotâ€”â€”æ¨¡å‹è®¾å®šæ•æ„Ÿæ€§åˆ†æåŠå¯è§†åŒ–
- **Keywords**: æ¨¡å‹è®¾å®š, è§„èŒƒæ›²çº¿åˆ†æ, SCA, mvplot, p-hacking, ç¨³å¥æ€§æ£€éªŒ, å¯è§†åŒ–, å› æœæ¨æ–­, è®¡é‡ç»æµå­¦

&emsp; 

>**å£°æ˜**ï¼šæœ¬æ–‡å†™ä½œè¿‡ç¨‹ä¸­å€ŸåŠ©äº† AI å·¥å…·ï¼Œä½†å†…å®¹ç»è¿‡äº†ä¸¥æ ¼çš„å®¡æ ¸å’Œæ¶¦è‰²ï¼Œç¡®ä¿å‡†ç¡®ä¼ è¾¾äº†åŸè®ºæ–‡çš„æ ¸å¿ƒæ€æƒ³å’Œæ–¹æ³•ã€‚  
- [Claude å¯¹è¯é“¾æ¥](https://claude.ai/share/4955c3fd-7a8f-4bb2-b089-900bbdd47254)
- [ChatGPT å¯¹è¯é“¾æ¥]()




---

## 1. å¼•è¨€ï¼šç ”ç©¶è€…è‡ªç”±åº¦ä¸ p-hacking é—®é¢˜

åœ¨å®è¯ç ”ç©¶ä¸­ï¼Œç ”ç©¶è€…é¢ä¸´ç€å¤§é‡çš„æ¨¡å‹è®¾å®šé€‰æ‹©ï¼šä½¿ç”¨å“ªäº›æ§åˆ¶å˜é‡ï¼Ÿå¦‚ä½•å¤„ç†å¼‚å¸¸å€¼ï¼Ÿé‡‡ç”¨ä½•ç§å‡½æ•°å½¢å¼ï¼Ÿé€‰æ‹©çº¿æ€§æ¨¡å‹è¿˜æ˜¯å¯¹æ•°æ¨¡å‹ï¼Ÿè¿™äº›çœ‹ä¼¼å¾®å°çš„å†³ç­–ï¼Œè¢«ç§°ä¸ºã€Œç ”ç©¶è€…è‡ªç”±åº¦ã€(researcher degrees of freedom)ï¼Œå®ƒä»¬ç´¯ç§¯èµ·æ¥å¯èƒ½å¯¹ç ”ç©¶ç»“è®ºäº§ç”Ÿé‡å¤§å½±å“ã€‚

æ›´ä»¤äººæ‹…å¿§çš„æ˜¯ï¼ŒLenz and Sahn (2021) é€šè¿‡åˆ†ææ”¿æ²»å­¦é¢†åŸŸçš„å®è¯ç ”ç©¶å‘ç°ï¼Œ**è¶…è¿‡ 30% çš„è®ºæ–‡å¯èƒ½å­˜åœ¨é€šè¿‡é€‰æ‹©æ€§æ·»åŠ æ§åˆ¶å˜é‡æ¥è·å¾—ç»Ÿè®¡æ˜¾è‘—æ€§ç»“æœçš„æ“ä½œ**â€”â€”è¿™ç§åšæ³•è¢«ç§°ä¸º ã€Œp-hackingã€æˆ–ã€Œç»“æœæ¸”çŒã€(results fishing)ã€‚ç ”ç©¶è€…å¯èƒ½æ— æ„è¯†åœ° (æˆ–æœ‰æ„åœ°) åå¤å°è¯•ä¸åŒçš„æ¨¡å‹è®¾å®šï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªäº§ç”Ÿæ˜¾è‘—ç»“æœçš„è§„èŒƒï¼Œç„¶ååªæŠ¥å‘Šè¿™ä¸ªã€ŒæˆåŠŸã€çš„æ¨¡å‹ï¼Œè€Œéšè—å…¶ä»–ä¸æ˜¾è‘—çš„å°è¯•ã€‚

è¿™ç§åšæ³•å¸¦æ¥äº†ä¸¥é‡çš„é—®é¢˜ï¼š

1. **è™šå‡å‘ç°ç‡ä¸Šå‡**ï¼šå½“æˆ‘ä»¬è¿›è¡Œå¤šæ¬¡å‡è®¾æ£€éªŒè€Œä¸è¿›è¡Œé€‚å½“è°ƒæ•´æ—¶ï¼Œå³ä½¿åŸå‡è®¾ä¸ºçœŸï¼Œä¹Ÿå¾ˆå®¹æ˜“ã€Œç¢°å·§ã€å¾—åˆ°æ˜¾è‘—ç»“æœ
2. **ç»“æœéš¾ä»¥å¤åˆ¶**ï¼šåŸºäº p-hacking å¾—åˆ°çš„æ˜¾è‘—ç»“æœå¾€å¾€æ— æ³•åœ¨æ–°æ•°æ®æˆ–å…¶ä»–ç ”ç©¶è€…çš„é‡å¤å®éªŒä¸­å¾—åˆ°éªŒè¯
3. **æ–‡çŒ®åå€š**ï¼šåªæœ‰æ˜¾è‘—ç»“æœè¢«å‘è¡¨ï¼Œå¯¼è‡´å·²å‘è¡¨æ–‡çŒ®ç³»ç»Ÿæ€§åœ°é«˜ä¼°çœŸå®æ•ˆåº”
4. **ç§‘å­¦ä¿¡ä»»å±æœº**ï¼šå½“è¿™äº›é—®é¢˜è¢«å¹¿æ³›è®¤è¯†åï¼Œä¼šå‰Šå¼±å…¬ä¼—å¯¹ç§‘å­¦ç ”ç©¶çš„ä¿¡ä»»

ä¸ºäº†åº”å¯¹è¿™ä¸ªé—®é¢˜ï¼ŒSimonsohn, Simmons, and Nelson (2020) åœ¨ Nature Human Behaviour ä¸Šæå‡ºäº†ä¸€ç§åä¸ºã€Œè§„èŒƒæ›²çº¿åˆ†æã€(Specification Curve Analysis, SCA) çš„æ–¹æ³•ã€‚SCA çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**æ—¢ç„¶ç ”ç©¶è€…æ‹¥æœ‰å¤§é‡åˆç†çš„æ¨¡å‹è®¾å®šé€‰æ‹©ï¼Œé‚£ä¹ˆä¸å…¶éšè—è¿™äº›é€‰æ‹©ï¼Œä¸å¦‚ç³»ç»Ÿåœ°å±•ç¤ºæ‰€æœ‰åˆç†è§„èŒƒä¸‹çš„ç»“æœï¼Œè®©è¯»è€…çœ‹åˆ°ç ”ç©¶ç»“è®ºå¯¹æ¨¡å‹è®¾å®šçš„æ•æ„Ÿæ€§**ã€‚

æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» SCA çš„ç†è®ºåŸºç¡€å’Œå®è·µæ–¹æ³•ï¼Œå¹¶é‡ç‚¹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Stata å‘½ä»¤ `mvplot` æ¥å®ç°è§„èŒƒæ›²çº¿åˆ†æã€‚é€šè¿‡å®ä¾‹ï¼Œæˆ‘ä»¬å°†å±•ç¤º SCA å¦‚ä½•å¸®åŠ©ç ”ç©¶è€…ï¼š

- å…¨é¢è¯„ä¼°ç ”ç©¶ç»“è®ºçš„ç¨³å¥æ€§
- è¯†åˆ«å“ªäº›æ¨¡å‹è®¾å®šé€‰æ‹©å¯¹ç»“æœå½±å“æœ€å¤§
- ä»¥é€æ˜çš„æ–¹å¼å‘ˆç°ç ”ç©¶çš„ä¸ç¡®å®šæ€§
- å¢å¼ºç ”ç©¶ç»“æœçš„å¯ä¿¡åº¦å’Œå¯å¤åˆ¶æ€§

**å…³é”® Stata å‘½ä»¤**ï¼š

- è§„èŒƒæ›²çº¿ç»˜åˆ¶ï¼š`mvplot`
- æ•°æ®å¤„ç†ï¼š`expand`, `egen`, `reshape`
- å›å½’åˆ†æï¼š`reghdfe`, `reg`

---

## 2. è§„èŒƒæ›²çº¿åˆ†æ (SCA) çš„ç†è®ºåŸºç¡€

### 2.1 ä»€ä¹ˆæ˜¯è§„èŒƒæ›²çº¿ï¼Ÿ

è§„èŒƒæ›²çº¿ (specification curve) æ˜¯ä¸€ç§å¯è§†åŒ–å·¥å…·ï¼Œå®ƒå°†æ‰€æœ‰åˆç†çš„æ¨¡å‹è®¾å®šä¸‹çš„ä¼°è®¡ç»“æœæ’åˆ—æˆä¸€æ¡æ›²çº¿ã€‚å…·ä½“è€Œè¨€ï¼š

- **æ¨ªè½´**ï¼šè¡¨ç¤ºä¸åŒçš„æ¨¡å‹è§„èŒƒï¼Œé€šå¸¸æŒ‰ä¼°è®¡ç³»æ•°ä»å°åˆ°å¤§æ’åº
- **çºµè½´**ï¼šè¡¨ç¤ºæ„Ÿå…´è¶£å‚æ•°çš„ç‚¹ä¼°è®¡å€¼å’Œç½®ä¿¡åŒºé—´
- **ä¸‹æ–¹é¢æ¿**ï¼šå±•ç¤ºæ¯ä¸ªæ¨¡å‹è§„èŒƒæ‰€é‡‡ç”¨çš„å…·ä½“è®¾å®šé€‰æ‹© (å¦‚åŒ…å«å“ªäº›æ§åˆ¶å˜é‡ã€ä½¿ç”¨ä½•ç§æ ·æœ¬é™åˆ¶ç­‰)

ä¸€ä¸ªå…¸å‹çš„è§„èŒƒæ›²çº¿å›¾åŒ…å«ä¸‰ä¸ªå…³é”®éƒ¨åˆ†ï¼š

1. **ä¸Šæ–¹ä¸»å›¾**ï¼šå±•ç¤ºæ‰€æœ‰æ¨¡å‹çš„ç‚¹ä¼°è®¡å’Œ 95% ç½®ä¿¡åŒºé—´ï¼Œç‚¹ä¼°è®¡é€šå¸¸ç”¨å®å¿ƒåœ†è¡¨ç¤ºï¼Œç½®ä¿¡åŒºé—´ç”¨å‚ç›´çº¿æ®µè¡¨ç¤ºã€‚å¦‚æœæŸä¸ªæ¨¡å‹çš„ç½®ä¿¡åŒºé—´ä¸åŒ…å«é›¶ï¼Œè¯¥ç‚¹é€šå¸¸ç”¨ä¸åŒé¢œè‰² (å¦‚çº¢è‰²) æ ‡æ³¨
2. **ä¸­é—´åˆ†éš”çº¿**ï¼šä¸€æ¡æ°´å¹³çš„å‚è€ƒçº¿ï¼Œé€šå¸¸è®¾å®šåœ¨é›¶å€¼å¤„ï¼Œå¸®åŠ©è¯»è€…å¿«é€Ÿåˆ¤æ–­ä¼°è®¡å€¼çš„ç¬¦å·
3. **ä¸‹æ–¹è®¾å®šçŸ©é˜µ**ï¼šç”¨çƒ­åŠ›å›¾æˆ–ç‚¹é˜µå›¾å±•ç¤ºæ¯ä¸ªæ¨¡å‹é‡‡ç”¨çš„å…·ä½“è®¾å®šã€‚æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè®¾å®šç»´åº¦ (å¦‚ã€Œæ˜¯å¦æ§åˆ¶å¹´é¾„ã€)ï¼Œæ¯ä¸€åˆ—å¯¹åº”ä¸€ä¸ªæ¨¡å‹è§„èŒƒ

### 2.2 SCA çš„æ ¸å¿ƒç†å¿µ

SCA çš„æ ¸å¿ƒç†å¿µå¯ä»¥æ¦‚æ‹¬ä¸ºã€Œ**ç©·å°½å±•ç¤ºï¼Œé€æ˜æŠ¥å‘Š**ã€(exhaustive display, transparent reporting)ï¼š

**ç©·å°½å±•ç¤º**

ç ”ç©¶è€…éœ€è¦æ˜ç¡®ç•Œå®šã€Œåˆç†ã€çš„æ¨¡å‹è®¾å®šç©ºé—´ï¼Œç„¶åç³»ç»Ÿåœ°è¿è¡Œè¿™ä¸ªç©ºé—´å†…çš„æ‰€æœ‰æ¨¡å‹ç»„åˆã€‚ä¾‹å¦‚ï¼Œå¦‚æœç ”ç©¶è€…è®¤ä¸ºä»¥ä¸‹è®¾å®šéƒ½æ˜¯åˆç†çš„ï¼š

- æ§åˆ¶å˜é‡ï¼šå¯ä»¥åŒ…å«æˆ–ä¸åŒ…å« 5 ä¸ªå˜é‡ (å¹´é¾„ã€æ€§åˆ«ã€æ•™è‚²ã€æ”¶å…¥ã€åœ°åŒº)
- æ ·æœ¬é™åˆ¶ï¼šå¯ä»¥å‰”é™¤æˆ–ä¿ç•™æç«¯å€¼
- å‡½æ•°å½¢å¼ï¼šå¯ä»¥ä½¿ç”¨çº¿æ€§æˆ–å¯¹æ•°å½¢å¼

é‚£ä¹ˆç†è®ºä¸Šå­˜åœ¨ $2^5 \times 2 \times 2 = 128$ ç§å¯èƒ½çš„æ¨¡å‹ç»„åˆã€‚SCA è¦æ±‚ç ”ç©¶è€…è¿è¡Œæ‰€æœ‰è¿™ 128 ä¸ªæ¨¡å‹ï¼Œè€Œä¸æ˜¯åªæŠ¥å‘Šå…¶ä¸­ä¸€ä¸ªã€‚

**é€æ˜æŠ¥å‘Š**

SCA ä¸ä»…è¦æ±‚å±•ç¤ºæ‰€æœ‰ç»“æœï¼Œè¿˜è¦æ±‚æ¸…æ™°åœ°å‘ˆç°æ¯ä¸ªæ¨¡å‹çš„å…·ä½“è®¾å®šã€‚è¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š

1. **è¯»è€…å¯ä»¥è¯„ä¼°ç¨³å¥æ€§**ï¼šå¦‚æœæ‰€æœ‰æ¨¡å‹çš„ä¼°è®¡å€¼éƒ½æŒ‡å‘åŒä¸€æ–¹å‘ä¸”å¤§å¤šæ•°æ˜¾è‘—ï¼Œè¯´æ˜ç»“è®ºç¨³å¥ï¼›åä¹‹ï¼Œå¦‚æœä¼°è®¡å€¼åœ¨æ­£è´Ÿä¹‹é—´æ‘‡æ‘†ï¼Œè¯´æ˜ç»“è®ºè„†å¼±
2. **è¯»è€…å¯ä»¥è¯†åˆ«æ•æ„Ÿç‚¹**ï¼šé€šè¿‡è§‚å¯Ÿè§„èŒƒæ›²çº¿çš„å½¢æ€å’Œä¸‹æ–¹è®¾å®šçŸ©é˜µï¼Œè¯»è€…å¯ä»¥å‘ç°å“ªäº›è®¾å®šé€‰æ‹©å¯¹ç»“æœå½±å“æœ€å¤§ï¼Œä»è€Œç†è§£ç»“æœçš„é©±åŠ¨å› ç´ 

### 2.3 SCA ä¸ä¼ ç»Ÿç¨³å¥æ€§æ£€éªŒçš„åŒºåˆ«

ä¼ ç»Ÿçš„ç¨³å¥æ€§æ£€éªŒé€šå¸¸é‡‡ç”¨ã€Œä¸»æ¨¡å‹ + è¡¥å……æ¨¡å‹ã€çš„æŠ¥å‘Šæ–¹å¼ï¼š

- **ä¸»æ¨¡å‹**ï¼šä½œè€…è®¤ä¸ºæœ€åˆç†æˆ–æœ€åå¥½çš„æ¨¡å‹è®¾å®šï¼Œé€šå¸¸åœ¨æ­£æ–‡è¡¨æ ¼ä¸­æŠ¥å‘Š
- **è¡¥å……æ¨¡å‹**ï¼šåœ¨é™„å½•æˆ–è„šæ³¨ä¸­æŠ¥å‘Šå‡ ä¸ªæ›¿ä»£è®¾å®šä¸‹çš„ç»“æœï¼Œç”¨äºè¯´æ˜ç»“è®ºç¨³å¥

è¿™ç§æ–¹å¼å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š

1. **é€‰æ‹©æ€§åå€š**ï¼šä½œè€…å¯èƒ½å€¾å‘äºå°†äº§ç”Ÿæ˜¾è‘—ç»“æœçš„æ¨¡å‹ä½œä¸ºã€Œä¸»æ¨¡å‹ã€ï¼Œè€Œå°†ä¸æ˜¾è‘—çš„æ¨¡å‹å½’å…¥ã€Œè¡¥å……ã€èŒƒç•´ï¼Œç”šè‡³ä¸æŠ¥å‘ŠæŸäº›ä¸æ”¯æŒå‡è®¾çš„æ¨¡å‹
2. **ä¿¡æ¯ä¸å®Œæ•´**ï¼šè¡¥å……æ¨¡å‹é€šå¸¸åªè¦†ç›–äº†æ¨¡å‹è®¾å®šç©ºé—´çš„ä¸€å°éƒ¨åˆ†ï¼Œè¯»è€…æ— æ³•å…¨é¢äº†è§£ç»“æœå¯¹è®¾å®šçš„æ•æ„Ÿæ€§

ç›¸æ¯”ä¹‹ä¸‹ï¼ŒSCA çš„ä¼˜åŠ¿åœ¨äºï¼š

- **æ— é€‰æ‹©ä½™åœ°**ï¼šä¸€æ—¦ç ”ç©¶è€…ç¡®å®šäº†ã€Œåˆç†ã€çš„è®¾å®šç©ºé—´ï¼Œå°±å¿…é¡»è¿è¡Œå¹¶æŠ¥å‘Šæ‰€æœ‰æ¨¡å‹ï¼Œä¸èƒ½é—æ¼ä»»ä½•ç»„åˆ
- **ä¸€ç›®äº†ç„¶**ï¼šè§„èŒƒæ›²çº¿å›¾å°†æ‰€æœ‰ç»“æœé›†ä¸­åœ¨ä¸€å¼ å›¾ä¸Šï¼Œè¯»è€…å¯ä»¥å¿«é€ŸæŠŠæ¡ç»“æœçš„åˆ†å¸ƒå’Œå˜å¼‚
- **å®¢è§‚è¯„ä¼°**ï¼šé€šè¿‡è®¡ç®—æ‰€æœ‰æ¨¡å‹ä¸­æœ‰å¤šå°‘æ¯”ä¾‹äº§ç”Ÿæ˜¾è‘—ç»“æœï¼Œå¯ä»¥é‡åŒ–ç»“è®ºçš„ç¨³å¥æ€§

### 2.4 æ¨æ–­ç»Ÿè®¡ï¼šç»“æœçš„ç»Ÿè®¡æ˜¾è‘—æ€§

Simonsohn ç­‰äººè¿˜æå‡ºäº†ä¸€ä¸ªåŸºäº SCA çš„æ¨æ–­ç»Ÿè®¡é‡ï¼šå¦‚æœå¤§éƒ¨åˆ†åˆç†çš„æ¨¡å‹è®¾å®šéƒ½äº§ç”Ÿç»Ÿè®¡æ˜¾è‘—çš„ç»“æœï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ›´æœ‰ä¿¡å¿ƒåœ°è®¤ä¸ºå­˜åœ¨çœŸå®çš„æ•ˆåº”ã€‚å…·ä½“è€Œè¨€ï¼Œä»–ä»¬å»ºè®®è®¡ç®—ï¼š

$$\text{æ˜¾è‘—æ¯”ä¾‹} = \frac{\text{äº§ç”Ÿç»Ÿè®¡æ˜¾è‘—ç»“æœçš„æ¨¡å‹æ•°}}{\text{æ‰€æœ‰åˆç†æ¨¡å‹æ€»æ•°}}$$

å¦‚æœè¿™ä¸ªæ¯”ä¾‹å¾ˆé«˜ (ä¾‹å¦‚è¶…è¿‡ 90%)ï¼Œè¯´æ˜ç»“è®ºåœ¨å„ç§åˆç†è®¾å®šä¸‹éƒ½ç¨³å¥ï¼›å¦‚æœæ¯”ä¾‹è¾ƒä½ (ä¾‹å¦‚åªæœ‰ 40%)ï¼Œè¯´æ˜ç»“è®ºå¯¹æ¨¡å‹è®¾å®šé«˜åº¦æ•æ„Ÿï¼Œéœ€è¦è°¨æ…è§£é‡Šã€‚

æ­¤å¤–ï¼ŒSimonsohn ç­‰äººè¿˜å»ºè®®è¿›è¡Œä¸€ä¸ªã€Œè”åˆå‡è®¾æ£€éªŒã€ï¼šåœ¨æ‰€æœ‰æ¨¡å‹ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªæ¨¡å‹çš„çœŸå®æ•ˆåº”éé›¶ã€‚è¿™ä¸ªæ£€éªŒçš„ p å€¼å¯ä»¥é€šè¿‡æ’åˆ—æ£€éªŒ (permutation test) æˆ–è‡ªåŠ©æ³• (bootstrap) æ¥è®¡ç®—ã€‚

---

## 3. Stata å®ç°ï¼šmvplot å‘½ä»¤è¯¦è§£

### 3.1 å®‰è£…ä¸åŸºæœ¬è¯­æ³•

åœ¨ Stata ä¸­ï¼Œ`mvplot` æ˜¯ä¸€ä¸ªç”¨æˆ·ç¼–å†™çš„å‘½ä»¤ï¼Œä¸“é—¨ç”¨äºç»˜åˆ¶è§„èŒƒæ›²çº¿ã€‚å®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š

```stata
* æ–¹æ³• 1ï¼šä» SSC å®‰è£…
ssc install mvplot

* æ–¹æ³• 2ï¼šä» GitHub å®‰è£… (å¦‚æœ SSC ç‰ˆæœ¬è¾ƒæ—§)
net install mvplot, from("https://raw.githubusercontent.com/...")
```

`mvplot` çš„åŸºæœ¬è¯­æ³•ä¸ºï¼š

```stata
mvplot depvar indepvar [controls] [if] [in] [weight], ///
    specifications(spec_varlist) ///
    [options]
```

**ä¸»è¦å‚æ•°**ï¼š

- `depvar`ï¼šå› å˜é‡
- `indepvar`ï¼šæ ¸å¿ƒè§£é‡Šå˜é‡ (å³æˆ‘ä»¬å…³å¿ƒçš„å¤„ç†å˜é‡æˆ–è‡ªå˜é‡)
- `controls`ï¼šå§‹ç»ˆåŒ…å«çš„æ§åˆ¶å˜é‡ (å¦‚æœæœ‰)
- `specifications(varlist)`ï¼šç”¨äºå®šä¹‰ä¸åŒæ¨¡å‹è®¾å®šçš„å˜é‡åˆ—è¡¨

**ä¸»è¦é€‰é¡¹**ï¼š

- `sort(asc|desc)`ï¼šæŒ‰ä¼°è®¡ç³»æ•°å‡åºæˆ–é™åºæ’åˆ—æ¨¡å‹
- `ci(#)`ï¼šç½®ä¿¡åŒºé—´æ°´å¹³ï¼Œé»˜è®¤ä¸º 95
- `basemodel(string)`ï¼šåŸºå‡†æ¨¡å‹çš„è®¾å®š
- `title(string)`ï¼šå›¾å½¢æ ‡é¢˜
- `xtitle(string)`ï¼šæ¨ªè½´æ ‡é¢˜
- `ytitle(string)`ï¼šçºµè½´æ ‡é¢˜

### 3.2 æ„å»ºæ¨¡å‹è®¾å®šç©ºé—´

åœ¨ä½¿ç”¨ `mvplot` ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ„å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯èƒ½æ¨¡å‹è®¾å®šçš„æ•°æ®é›†ã€‚è¿™é€šå¸¸æ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š

**æ­¥éª¤ 1ï¼šç¡®å®šè®¾å®šç»´åº¦**

é¦–å…ˆï¼Œæ˜ç¡®ç ”ç©¶ä¸­æœ‰å“ªäº›åˆç†çš„æ¨¡å‹è®¾å®šé€‰æ‹©ã€‚ä¾‹å¦‚ï¼š

- æ§åˆ¶å˜é‡ï¼šå¹´é¾„ (age)ã€æ€§åˆ« (female)ã€æ•™è‚² (educ)ã€æ”¶å…¥ (income)
- æ ·æœ¬é™åˆ¶ï¼šæ˜¯å¦å‰”é™¤æç«¯å€¼ (trim)
- å‡½æ•°å½¢å¼ï¼šçº¿æ€§ vs. å¯¹æ•° (log_form)

**æ­¥éª¤ 2ï¼šåˆ›å»ºè®¾å®šæŒ‡ç¤ºå˜é‡**

ä¸ºæ¯ä¸ªè®¾å®šç»´åº¦åˆ›å»ºä¸€ä¸ªäºŒå…ƒæŒ‡ç¤ºå˜é‡ (0/1)ï¼š

```stata
* ç”Ÿæˆæ§åˆ¶å˜é‡æŒ‡ç¤º
gen ctrl_age = 0
gen ctrl_female = 0  
gen ctrl_educ = 0
gen ctrl_income = 0

* ç”Ÿæˆæ ·æœ¬é™åˆ¶æŒ‡ç¤º
gen trim_outliers = 0

* ç”Ÿæˆå‡½æ•°å½¢å¼æŒ‡ç¤º
gen use_log = 0
```

**æ­¥éª¤ 3ï¼šç©·ä¸¾æ‰€æœ‰ç»„åˆ**

ä½¿ç”¨ Stata çš„ `fillin` æˆ–æ‰‹åŠ¨æ–¹æ³•ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„ç»„åˆï¼š

```stata
* æ‰©å±•æ•°æ®ä»¥åŒ…å«æ‰€æœ‰ç»„åˆ
expand 2^6  // å‡è®¾æœ‰ 6 ä¸ªäºŒå…ƒè®¾å®šï¼Œå…± 2^6 = 64 ç§ç»„åˆ

* ä½¿ç”¨å¾ªç¯æˆ– egen ä¸ºæ¯ä¸ªè§‚æµ‹åˆ†é…å”¯ä¸€çš„è®¾å®šç»„åˆ
* (å…·ä½“ä»£ç è§ä¸‹æ–‡å®ä¾‹)
```

### 3.3 å®ä¾‹ï¼šæ•™è‚²å›æŠ¥çš„è§„èŒƒæ›²çº¿åˆ†æ

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“ä¾‹å­æ¥æ¼”ç¤º `mvplot` çš„ä½¿ç”¨ã€‚å‡è®¾æˆ‘ä»¬æƒ³ç ”ç©¶æ•™è‚²å¯¹æ”¶å…¥çš„å½±å“ï¼Œå¯èƒ½çš„æ¨¡å‹è®¾å®šåŒ…æ‹¬ï¼š

1. æ˜¯å¦æ§åˆ¶å·¥ä½œç»éªŒ (experience)
2. æ˜¯å¦æ§åˆ¶æ€§åˆ« (female)
3. æ˜¯å¦æ§åˆ¶åœ°åŒºå›ºå®šæ•ˆåº” (region)
4. æ˜¯å¦ä½¿ç”¨å¯¹æ•°å·¥èµ„ (log wage)
5. æ˜¯å¦é™åˆ¶æ ·æœ¬åœ¨ 25-55 å²ä¹‹é—´

**å‡†å¤‡æ•°æ®**

```stata
* è½½å…¥ç¤ºä¾‹æ•°æ®
sysuse nlsw88, clear

* ç”Ÿæˆå¯¹æ•°å·¥èµ„
gen log_wage = log(wage)

* ç”Ÿæˆå¹´é¾„é™åˆ¶æŒ‡ç¤º
gen age_restricted = (age >= 25 & age <= 55)
```

**æ‰‹åŠ¨è¿è¡Œå¤šä¸ªæ¨¡å‹å¹¶æ”¶é›†ç»“æœ**

åœ¨æ²¡æœ‰ `mvplot` çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è¿è¡Œæ‰€æœ‰æ¨¡å‹å¹¶æ”¶é›†ç»“æœï¼š

```stata
* åˆ›å»ºç©ºçŸ©é˜µå­˜å‚¨ç»“æœ
matrix results = J(32, 9, .)  // å‡è®¾æœ‰ 32 ç§ç»„åˆï¼Œ9 åˆ—å­˜å‚¨ä¿¡æ¯

local row = 1

* å¾ªç¯éå†æ‰€æœ‰ç»„åˆ
foreach depvar in wage log_wage {
    foreach exp_ctrl in "" "ttl_exp" {
        foreach fem_ctrl in "" "female" {
            foreach reg_ctrl in "" "i.region" {
                foreach age_restr in 0 1 {
                    
                    * æ„å»ºæ§åˆ¶å˜é‡åˆ—è¡¨
                    local controls "`exp_ctrl' `fem_ctrl' `reg_ctrl'"
                    
                    * ç¡®å®šæ ·æœ¬
                    if `age_restr' == 1 {
                        local ifcond "if age_restricted == 1"
                    }
                    else {
                        local ifcond ""
                    }
                    
                    * è¿è¡Œå›å½’
                    quietly reg `depvar' grade `controls' `ifcond'
                    
                    * å­˜å‚¨ç»“æœ
                    matrix results[`row', 1] = _b[grade]
                    matrix results[`row', 2] = _se[grade]
                    matrix results[`row', 3] = (`depvar' == "log_wage")
                    matrix results[`row', 4] = ("`exp_ctrl'" != "")
                    matrix results[`row', 5] = ("`fem_ctrl'" != "")
                    matrix results[`row', 6] = ("`reg_ctrl'" != "")
                    matrix results[`row', 7] = `age_restr'
                    
                    local ++row
                }
            }
        }
    }
}

* å°†çŸ©é˜µè½¬æ¢ä¸ºæ•°æ®é›†
preserve
clear
svmat results, names(col)
```

**ä½¿ç”¨ mvplot ç»˜å›¾**

è™½ç„¶ `mvplot` çš„å®Œæ•´å®ç°å¯èƒ½å› ç‰ˆæœ¬è€Œå¼‚ï¼ŒåŸºæœ¬æ€è·¯æ˜¯å°†ä¸Šè¿°ç»“æœæ•°æ®ä¼ é€’ç»™ç»˜å›¾å‘½ä»¤ï¼š

```stata
* å¦‚æœ mvplot æ”¯æŒä»ç»“æœçŸ©é˜µç›´æ¥ç»˜å›¾
mvplot, ///
    estimates(results) ///
    spec_vars(use_log ctrl_exp ctrl_female ctrl_region age_restrict) ///
    sort(asc) ///
    title("Specification Curve: Education Returns") ///
    ytitle("Coefficient on Years of Education")
```

**è§£è¯»è§„èŒƒæ›²çº¿å›¾**

ç»˜åˆ¶å‡ºçš„è§„èŒƒæ›²çº¿å›¾åº”åŒ…å«ï¼š

1. **ä¸Šæ–¹é¢æ¿**ï¼š
   - æ¨ªè½´ï¼š32 ä¸ªä¸åŒçš„æ¨¡å‹è§„èŒƒ (æŒ‰ä¼°è®¡ç³»æ•°ä»å°åˆ°å¤§æ’åˆ—)
   - çºµè½´ï¼šæ•™è‚²å¹´é™çš„ä¼°è®¡ç³»æ•°
   - æ¯ä¸ªç‚¹è¡¨ç¤ºä¸€ä¸ªæ¨¡å‹çš„ç‚¹ä¼°è®¡ï¼Œå‚ç›´çº¿æ®µè¡¨ç¤º 95% ç½®ä¿¡åŒºé—´
   - æ˜¾è‘—ä¸ºæ­£çš„ç‚¹å¯èƒ½ç”¨çº¢è‰²æ ‡æ³¨ï¼Œä¸æ˜¾è‘—çš„ç”¨ç°è‰²

2. **ä¸‹æ–¹è®¾å®šçŸ©é˜µ**ï¼š
   - 5 è¡Œï¼Œåˆ†åˆ«å¯¹åº”ï¼šå¯¹æ•°å½¢å¼ã€ç»éªŒæ§åˆ¶ã€æ€§åˆ«æ§åˆ¶ã€åœ°åŒºæ§åˆ¶ã€å¹´é¾„é™åˆ¶
   - 32 åˆ—ï¼Œæ¯åˆ—å¯¹åº”ä¸€ä¸ªæ¨¡å‹
   - æœ‰è‰²æ–¹å—æˆ–ç‚¹è¡¨ç¤ºè¯¥æ¨¡å‹é‡‡ç”¨äº†è¯¥è®¾å®š

é€šè¿‡è§‚å¯Ÿè§„èŒƒæ›²çº¿ï¼Œæˆ‘ä»¬å¯ä»¥å›ç­”ï¼š

- **ç¨³å¥æ€§**ï¼šæ˜¯å¦æ‰€æœ‰ (æˆ–å¤§éƒ¨åˆ†) æ¨¡å‹éƒ½äº§ç”Ÿæ­£å‘ä¸”æ˜¾è‘—çš„ä¼°è®¡ï¼Ÿ
- **æ•æ„Ÿæ€§**ï¼šå“ªäº›è®¾å®šé€‰æ‹©å¯¹ä¼°è®¡å€¼å½±å“æœ€å¤§ï¼Ÿ(è§‚å¯Ÿä¸‹æ–¹çŸ©é˜µï¼Œçœ‹å“ªä¸€è¡Œçš„é¢œè‰²æ¨¡å¼ä¸ä¼°è®¡å€¼å¤§å°çš„å˜åŒ–æœ€ä¸€è‡´)
- **ä¸­ä½æ•°å’ŒèŒƒå›´**ï¼šä¼°è®¡å€¼çš„ä¸­ä½æ•°æ˜¯å¤šå°‘ï¼Ÿæœ€å°å€¼å’Œæœ€å¤§å€¼åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ

### 3.4 ä½¿ç”¨ foreach å¾ªç¯ç®€åŒ–ä»£ç 

åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Stata çš„ `foreach` å¾ªç¯æ¥æ›´é«˜æ•ˆåœ°ç”Ÿæˆæ‰€æœ‰æ¨¡å‹ç»„åˆï¼š

```stata
* å®šä¹‰æ‰€æœ‰å¯èƒ½çš„è®¾å®š
local depvars "wage log_wage"
local exp_ctrls "0 1"
local fem_ctrls "0 1"  
local reg_ctrls "0 1"
local age_restricts "0 1"

* åˆå§‹åŒ–ç»“æœå­˜å‚¨
tempname results
matrix `results' = J(1000, 10, .)  // é¢„ç•™è¶³å¤Ÿçš„è¡Œæ•°

local row = 1

* åµŒå¥—å¾ªç¯
foreach dv of local depvars {
    foreach ec of local exp_ctrls {
        foreach fc of local fem_ctrls {
            foreach rc of local reg_ctrls {
                foreach ar of local age_restricts {
                    
                    * æ„å»ºæ§åˆ¶å˜é‡
                    local ctrls ""
                    if `ec' == 1 local ctrls "`ctrls' ttl_exp"
                    if `fc' == 1 local ctrls "`ctrls' female"
                    if `rc' == 1 local ctrls "`ctrls' i.region"
                    
                    * æ„å»º if æ¡ä»¶
                    local ifcond = cond(`ar' == 1, "if age_restricted", "")
                    
                    * è¿è¡Œå›å½’
                    qui reg `dv' grade `ctrls' `ifcond'
                    
                    * ä¿å­˜ç»“æœ
                    mat `results'[`row', 1] = _b[grade]
                    mat `results'[`row', 2] = _se[grade]
                    mat `results'[`row', 3] = _b[grade] - 1.96*_se[grade]  // CI ä¸‹é™
                    mat `results'[`row', 4] = _b[grade] + 1.96*_se[grade]  // CI ä¸Šé™
                    mat `results'[`row', 5] = ("`dv'" == "log_wage")
                    mat `results'[`row', 6] = `ec'
                    mat `results'[`row', 7] = `fc'
                    mat `results'[`row', 8] = `rc'
                    mat `results'[`row', 9] = `ar'
                    mat `results'[`row', 10] = ///
                        (abs(_b[grade]/_se[grade]) > 1.96)  // æ˜¯å¦æ˜¾è‘—
                    
                    local ++row
                }
            }
        }
    }
}

* ä¿ç•™å®é™…ä½¿ç”¨çš„è¡Œæ•°
matrix `results' = `results'[1..`=`row'-1', 1..10]
```

---

## 4. è¿›é˜¶åº”ç”¨ï¼šå¤„ç†è¿ç»­å‹è®¾å®šé€‰æ‹©

### 4.1 ç¦»æ•£åŒ–è¿ç»­è®¾å®š

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¨¡å‹è®¾å®šä¸æ˜¯ç®€å•çš„ã€ŒåŒ…å«/ä¸åŒ…å«ã€äºŒå…ƒé€‰æ‹©ï¼Œè€Œæ˜¯è¿ç»­çš„ã€‚ä¾‹å¦‚ï¼š

- **å¸¦å®½é€‰æ‹©**ï¼šåœ¨ RDD ä¸­ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒçš„å¸¦å®½ (bandwidth) å€¼
- **æ»åæœŸæ•°**ï¼šåœ¨æ—¶é—´åºåˆ—æ¨¡å‹ä¸­ï¼Œå¯ä»¥åŒ…å«ä¸åŒæ•°é‡çš„æ»åé¡¹
- **åˆ†ä½æ•°å›å½’**ï¼šå¯ä»¥ä¼°è®¡ä¸åŒåˆ†ä½æ•°å¤„çš„æ•ˆåº”

å¯¹äºè¿™äº›æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦å°†è¿ç»­çš„è®¾å®šç©ºé—´ç¦»æ•£åŒ–ä¸ºæœ‰é™ä¸ªé€‰é¡¹ï¼š

```stata
* ç¤ºä¾‹ï¼šRDD ä¸­çš„å¸¦å®½é€‰æ‹©
local bandwidths "5 10 15 20 25"

foreach bw of local bandwidths {
    reg outcome treatment running_var if abs(running_var) <= `bw'
    * ä¿å­˜ç»“æœ...
}
```

### 4.2 å¤šç»´è®¾å®šçš„å¯è§†åŒ–æŒ‘æˆ˜

å½“æ¨¡å‹è®¾å®šç»´åº¦å¾ˆå¤šæ—¶ (ä¾‹å¦‚è¶…è¿‡ 10 ä¸ª)ï¼Œä¸‹æ–¹çš„è®¾å®šçŸ©é˜µä¼šå˜å¾—éå¸¸å¯†é›†ï¼Œéš¾ä»¥é˜…è¯»ã€‚æ­¤æ—¶å¯ä»¥è€ƒè™‘ï¼š

1. **åˆ†ç»„å±•ç¤º**ï¼šå°†è®¾å®šç»´åº¦åˆ†ä¸ºå‡ ä¸ªä¸»è¦ç±»åˆ«ï¼Œåˆ†åˆ«ç»˜åˆ¶å­å›¾
2. **äº¤äº’å¼å›¾å½¢**ï¼šä½¿ç”¨ Stata çš„å›¾å½¢ç¼–è¾‘å™¨æˆ–å¤–éƒ¨å·¥å…· (å¦‚ R çš„ Shiny) åˆ›å»ºå¯äº¤äº’çš„è§„èŒƒæ›²çº¿
3. **é™ç»´æŠ€æœ¯**ï¼šä½¿ç”¨ä¸»æˆåˆ†åˆ†æ (PCA) æˆ–å…¶ä»–é™ç»´æ–¹æ³•æ¥è¯†åˆ«æœ€é‡è¦çš„è®¾å®šç»´åº¦

### 4.3 åŠ æƒè§„èŒƒæ›²çº¿

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸åŒçš„æ¨¡å‹è®¾å®šå¯èƒ½å…·æœ‰ä¸åŒçš„ã€Œåˆç†æ€§ã€æˆ–ã€Œé‡è¦æ€§ã€ã€‚ä¾‹å¦‚ï¼š

- æŸäº›æ§åˆ¶å˜é‡æ˜¯ç†è®ºä¸Šå¿…é¡»åŒ…å«çš„
- æŸäº›æ ·æœ¬é™åˆ¶æ›´ç¬¦åˆç ”ç©¶ç›®çš„

æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸ºä¸åŒçš„æ¨¡å‹èµ‹äºˆä¸åŒçš„æƒé‡ï¼Œç»˜åˆ¶ã€ŒåŠ æƒè§„èŒƒæ›²çº¿ã€ï¼š

```stata
* ç”Ÿæˆæƒé‡å˜é‡
gen model_weight = 1  // åŸºå‡†æƒé‡

* æé«˜åŒ…å«é‡è¦æ§åˆ¶å˜é‡çš„æ¨¡å‹æƒé‡
replace model_weight = 2 if ctrl_age == 1 & ctrl_educ == 1

* åœ¨åˆ†æä¸­ä½¿ç”¨æƒé‡
sum coef [w=model_weight]
```

---

## 5. å®è¯å»ºè®®ä¸æœ€ä½³å®è·µ

### 5.1 å¦‚ä½•å®šä¹‰ã€Œåˆç†ã€çš„æ¨¡å‹è®¾å®šç©ºé—´ï¼Ÿ

SCA çš„å…³é”®åœ¨äºåˆç†ç•Œå®šæ¨¡å‹è®¾å®šç©ºé—´ã€‚è¿™ä¸ªç©ºé—´åº”è¯¥ï¼š

**è¶³å¤Ÿå¹¿æ³›**

åŒ…å«æ‰€æœ‰åœ¨å­¦æœ¯ç•Œè¢«è®¤ä¸ºåˆç†çš„è®¾å®šé€‰æ‹©ã€‚ä¾‹å¦‚ï¼š

- å¦‚æœæ–‡çŒ®ä¸­æœ‰ç ”ç©¶ä½¿ç”¨çº¿æ€§æ¨¡å‹ï¼Œä¹Ÿæœ‰ç ”ç©¶ä½¿ç”¨å¯¹æ•°æ¨¡å‹ï¼Œé‚£ä¹ˆä¸¤ç§éƒ½åº”çº³å…¥
- å¦‚æœæŸä¸ªæ§åˆ¶å˜é‡åœ¨ç†è®ºä¸Šæœ‰äº‰è®® (æœ‰äººè®¤ä¸ºåº”è¯¥æ§åˆ¶ï¼Œæœ‰äººè®¤ä¸ºä¸åº”è¯¥)ï¼Œé‚£ä¹ˆåº”è¯¥åŒæ—¶è€ƒè™‘åŒ…å«å’Œä¸åŒ…å«çš„æƒ…å†µ

**æœ‰ç†è®ºä¾æ®**

ä¸åº”è¯¥æ— åŸåˆ™åœ°æ‰©å±•è®¾å®šç©ºé—´ã€‚ä¾‹å¦‚ï¼š

- ä¸åº”è¯¥åŒ…å«æ˜æ˜¾ä¸åˆç†çš„è®¾å®š (å¦‚åœ¨å› æœæ¨æ–­ä¸­ä¸æ§åˆ¶ä»»ä½•æ··æ·†å˜é‡)
- ä¸åº”è¯¥åŒ…å«ç†è®ºä¸Šç›¸äº’çŸ›ç›¾çš„è®¾å®š (å¦‚åŒæ—¶æ§åˆ¶ä¸­ä»‹å˜é‡å’Œæ§åˆ¶æ€»æ•ˆåº”)

**äº‹å‰ç¡®å®š**

ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¨¡å‹è®¾å®šç©ºé—´åº”è¯¥åœ¨çœ‹åˆ°æ•°æ®ä¹‹å‰å°±ç¡®å®šï¼Œå¹¶åœ¨é¢„æ³¨å†Œ (pre-registration) ä¸­è¯´æ˜ã€‚å¦‚æœæ˜¯åœ¨å·²æœ‰æ•°æ®çš„æƒ…å†µä¸‹è¿›è¡Œ SCAï¼Œåº”è¯¥åœ¨è®ºæ–‡ä¸­è¯šå®è¯´æ˜ï¼Œå¹¶é¿å…æ ¹æ®åˆæ­¥ç»“æœæ¥è°ƒæ•´è®¾å®šç©ºé—´ã€‚

### 5.2 å¦‚ä½•æŠ¥å‘Š SCA ç»“æœï¼Ÿ

å®Œæ•´çš„ SCA æŠ¥å‘Šåº”åŒ…å«ï¼š

**æ­£æ–‡éƒ¨åˆ†**

1. **è§„èŒƒæ›²çº¿å›¾**ï¼šä½œä¸ºä¸»å›¾æˆ–é‡è¦çš„è¡¥å……å›¾å±•ç¤º
2. **æ±‡æ€»ç»Ÿè®¡**ï¼š
   - æ‰€æœ‰æ¨¡å‹ä¼°è®¡å€¼çš„ä¸­ä½æ•°ã€æœ€å°å€¼ã€æœ€å¤§å€¼
   - äº§ç”Ÿç»Ÿè®¡æ˜¾è‘—ç»“æœçš„æ¨¡å‹æ¯”ä¾‹
   - ä¼°è®¡å€¼çš„æ ‡å‡†å·® (è¡¡é‡å¯¹è®¾å®šçš„æ•æ„Ÿæ€§)

3. **å…³é”®å‘ç°**ï¼š
   - ç»“è®ºæ˜¯å¦ç¨³å¥ï¼Ÿ(å¤§éƒ¨åˆ†æ¨¡å‹æ˜¯å¦æŒ‡å‘åŒä¸€æ–¹å‘ï¼Ÿ)
   - å“ªäº›è®¾å®šé€‰æ‹©å½±å“æœ€å¤§ï¼Ÿ(é€šè¿‡åˆ†ç»„æ¯”è¾ƒæˆ–å›å½’åˆ†æè¯†åˆ«)

**é™„å½•æˆ–åœ¨çº¿è¡¥å……ææ–™**

1. **æ‰€æœ‰æ¨¡å‹çš„è¯¦ç»†ç»“æœè¡¨**ï¼šåˆ—å‡ºæ¯ä¸ªæ¨¡å‹çš„å®Œæ•´å›å½’ç»“æœ
2. **ä»£ç **ï¼šæä¾›ç”Ÿæˆè§„èŒƒæ›²çº¿çš„å®Œæ•´ Stata/R/Python ä»£ç 
3. **è®¾å®šç©ºé—´çš„è¯´æ˜**ï¼šè¯¦ç»†è§£é‡Šä¸ºä»€ä¹ˆé€‰æ‹©è¿™äº›è®¾å®šç»´åº¦ï¼Œä¸ºä»€ä¹ˆæ’é™¤å…¶ä»–å¯èƒ½çš„è®¾å®š

### 5.3 SCA çš„å±€é™æ€§

å°½ç®¡ SCA æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œä½†å®ƒä¹Ÿæœ‰å±€é™æ€§ï¼š

**è®¡ç®—è´Ÿæ‹…**

å½“è®¾å®šç»´åº¦å¾ˆå¤šæ—¶ï¼Œå¯èƒ½çš„æ¨¡å‹ç»„åˆæ•°ä¼šå‘ˆæŒ‡æ•°å¢é•¿ã€‚ä¾‹å¦‚ï¼Œ10 ä¸ªäºŒå…ƒè®¾å®šç»´åº¦æ„å‘³ç€ $2^{10} = 1024$ ä¸ªæ¨¡å‹ã€‚å¦‚æœæ¯ä¸ªæ¨¡å‹éƒ½æ˜¯å¤æ‚çš„éçº¿æ€§æ¨¡å‹æˆ–éœ€è¦å¤§é‡è®¡ç®— (å¦‚ Bootstrap)ï¼Œè¿è¡Œæ‰€æœ‰æ¨¡å‹å¯èƒ½ä¸ç°å®ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

- ä¼˜å…ˆé€‰æ‹©æœ€é‡è¦çš„è®¾å®šç»´åº¦
- ä½¿ç”¨éšæœºæŠ½æ · (ä¾‹å¦‚åªè¿è¡Œ 1000 ä¸ªéšæœºé€‰æ‹©çš„æ¨¡å‹ç»„åˆ)
- ä½¿ç”¨æ›´å¿«çš„ä¼°è®¡æ–¹æ³•

**ä»éœ€ä¸»è§‚åˆ¤æ–­**

SCA è™½ç„¶ç³»ç»ŸåŒ–äº†æ¨¡å‹è®¾å®šçš„å±•ç¤ºï¼Œä½†ã€Œåˆç†ã€æ¨¡å‹ç©ºé—´çš„ç•Œå®šä»ç„¶éœ€è¦ç ”ç©¶è€…çš„ä¸»è§‚åˆ¤æ–­ã€‚ä¸åŒç ”ç©¶è€…å¯èƒ½å¯¹ä»€ä¹ˆæ˜¯ã€Œåˆç†ã€æœ‰ä¸åŒçœ‹æ³•ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

- åœ¨é¢„æ³¨å†Œä¸­æ˜ç¡®è®¾å®šç©ºé—´
- æä¾›ç¨³å¥æ€§æ£€éªŒï¼Œå±•ç¤ºè®¾å®šç©ºé—´çš„ä¸åŒç•Œå®šä¸‹çš„ç»“æœ
- é‚€è¯·åŒè¡Œå®¡ç¨¿äººå’Œè¯»è€…æä¾›åé¦ˆ

**ä¸èƒ½æ›¿ä»£ç†è®ºæ€è€ƒ**

SCA å¯ä»¥æ­ç¤ºç»“æœå¯¹è®¾å®šçš„æ•æ„Ÿæ€§ï¼Œä½†ä¸èƒ½å‘Šè¯‰æˆ‘ä»¬å“ªä¸ªæ¨¡å‹æ˜¯ã€Œæ­£ç¡®ã€çš„ã€‚æœ€ç»ˆï¼Œæ¨¡å‹é€‰æ‹©ä»éœ€åŸºäºç»æµç†è®ºã€è¯†åˆ«å‡è®¾å’Œç ”ç©¶è®¾è®¡ã€‚

---

## 6. æ¡ˆä¾‹ç ”ç©¶ï¼šæ•™è‚²å›æŠ¥çš„è§„èŒƒæ›²çº¿

### 6.1 ç ”ç©¶èƒŒæ™¯

æ•™è‚²å›æŠ¥ (returns to education) æ˜¯åŠ³åŠ¨ç»æµå­¦ä¸­çš„ç»å…¸é—®é¢˜ï¼šå¤šæ¥å—ä¸€å¹´æ•™è‚²ï¼Œå¹³å‡èƒ½å¢åŠ å¤šå°‘æ”¶å…¥ï¼Ÿè¿™ä¸ªé—®é¢˜çœ‹ä¼¼ç®€å•ï¼Œä½†ä¼°è®¡èµ·æ¥å……æ»¡æŒ‘æˆ˜ï¼Œå› ä¸ºï¼š

- **é—æ¼å˜é‡åè¯¯**ï¼šèƒ½åŠ›ã€å®¶åº­èƒŒæ™¯ç­‰ä¸å¯è§‚æµ‹å› ç´ åŒæ—¶å½±å“æ•™è‚²å’Œæ”¶å…¥
- **æµ‹é‡è¯¯å·®**ï¼šæ•™è‚²å¹´é™çš„è‡ªæŠ¥æ•°æ®å¯èƒ½å­˜åœ¨è¯¯å·®
- **æ ·æœ¬é€‰æ‹©**ï¼šä¸åŒæ•™è‚²æ°´å¹³çš„äººç¾¤åœ¨åŠ³åŠ¨åŠ›å¸‚åœºå‚ä¸ã€èŒä¸šé€‰æ‹©ç­‰æ–¹é¢å­˜åœ¨å·®å¼‚

ç ”ç©¶è€…åœ¨ä¼°è®¡æ•™è‚²å›æŠ¥æ—¶ï¼Œé¢ä¸´è¯¸å¤šæ¨¡å‹è®¾å®šé€‰æ‹©ï¼š

1. **å› å˜é‡å½¢å¼**ï¼šå·¥èµ„æ°´å¹³ vs. å¯¹æ•°å·¥èµ„
2. **æ§åˆ¶å˜é‡**ï¼šæ˜¯å¦æ§åˆ¶å·¥ä½œç»éªŒã€æ€§åˆ«ã€åœ°åŒºã€è¡Œä¸šã€èŒä¸šç­‰
3. **æ ·æœ¬é™åˆ¶**ï¼šæ˜¯å¦é™åˆ¶å¹´é¾„èŒƒå›´ã€æ˜¯å¦å‰”é™¤è‡ªé›‡è€…ã€æ˜¯å¦åªä¿ç•™å…¨èŒå·¥ä½œè€…
4. **ä¼°è®¡æ–¹æ³•**ï¼šOLS vs. å·¥å…·å˜é‡æ³• (ä½¿ç”¨ä¹‰åŠ¡æ•™è‚²å¹´é™ã€å­¦åŒºè·ç¦»ç­‰ä½œä¸ºå·¥å…·)

æˆ‘ä»¬å°†ä½¿ç”¨ Stata è‡ªå¸¦çš„ `nlsw88` æ•°æ® (National Longitudinal Survey of Women, 1988) æ¥æ¼”ç¤ºå¦‚ä½•è¿›è¡Œè§„èŒƒæ›²çº¿åˆ†æã€‚

### 6.2 æ•°æ®å‡†å¤‡ä¸è®¾å®šç©ºé—´

```stata
* è½½å…¥æ•°æ®
sysuse nlsw88, clear

* æè¿°æ€§ç»Ÿè®¡
sum wage grade ttl_exp age

* ç”Ÿæˆå¯¹æ•°å·¥èµ„
gen log_wage = log(wage)

* ç”Ÿæˆå¹´é¾„é™åˆ¶æŒ‡ç¤º
gen age_25_55 = (age >= 25 & age <= 55)
gen age_30_50 = (age >= 30 & age <= 50)

* ç”Ÿæˆè¡Œä¸šã€èŒä¸šå“‘å˜é‡
tab industry, gen(ind_)
tab occupation, gen(occ_)
```

**å®šä¹‰è®¾å®šç©ºé—´**

æˆ‘ä»¬è€ƒè™‘ä»¥ä¸‹è®¾å®šç»´åº¦ï¼š

| ç»´åº¦ | é€‰é¡¹ |
|------|------|
| å› å˜é‡ | å·¥èµ„æ°´å¹³ / å¯¹æ•°å·¥èµ„ |
| æ§åˆ¶ç»éªŒ | å¦ / æ˜¯ |
| æ§åˆ¶æ€§åˆ« | å¦ / æ˜¯ (æœ¬æ•°æ®ä¸­å‡ä¸ºå¥³æ€§ï¼Œæ­¤ç»´åº¦ä»…ä¸ºç¤ºä¾‹) |
| æ§åˆ¶å©šå§»çŠ¶å†µ | å¦ / æ˜¯ |
| æ§åˆ¶åœ°åŒº | å¦ / æ˜¯ |
| æ§åˆ¶è¡Œä¸š | å¦ / æ˜¯ |
| æ§åˆ¶èŒä¸š | å¦ / æ˜¯ |
| å¹´é¾„é™åˆ¶ | æ— é™åˆ¶ / 25-55 å² / 30-50 å² |

è¿™æ ·å…±æœ‰ $2 \times 2 \times 2 \times 2 \times 2 \times 2 \times 3 = 192$ ç§æ¨¡å‹ç»„åˆã€‚

### 6.3 è¿è¡Œæ‰€æœ‰æ¨¡å‹å¹¶ä¿å­˜ç»“æœ

```stata
* åˆ›å»ºç©ºæ•°æ®é›†å­˜å‚¨ç»“æœ
clear
set obs 192
gen model_id = _n
gen coef = .
gen se = .
gen ci_lower = .
gen ci_upper = .
gen pvalue = .
gen significant = .
gen use_log = .
gen ctrl_exp = .
gen ctrl_married = .
gen ctrl_region = .
gen ctrl_industry = .
gen ctrl_occupation = .
gen age_restrict = .

* å®šä¹‰è®¾å®šé€‰é¡¹
local depvar_opts "wage log_wage"
local exp_opts "0 1"
local married_opts "0 1"
local region_opts "0 1"
local industry_opts "0 1"
local occupation_opts "0 1"
local age_opts "0 1 2"  // 0=æ— é™åˆ¶, 1=25-55, 2=30-50

local row = 1

* å…­é‡å¾ªç¯
foreach dv of local depvar_opts {
    foreach exp of local exp_opts {
        foreach mar of local married_opts {
            foreach reg of local region_opts {
                foreach ind of local industry_opts {
                    foreach occ of local occupation_opts {
                        foreach age of local age_opts {
                            
                            use nlsw88, clear
                            
                            * ç”Ÿæˆå¯¹æ•°å·¥èµ„
                            gen log_wage = log(wage)
                            
                            * æ„å»ºæ§åˆ¶å˜é‡åˆ—è¡¨
                            local controls ""
                            if `exp' == 1 local controls "`controls' ttl_exp"
                            if `mar' == 1 local controls "`controls' married"
                            if `reg' == 1 local controls "`controls' i.south"
                            if `ind' == 1 {
                                tab industry, gen(ind_)
                                local controls "`controls' ind_2-ind_12"
                            }
                            if `occ' == 1 {
                                tab occupation, gen(occ_)
                                local controls "`controls' occ_2-occ_13"
                            }
                            
                            * æ„å»ºæ ·æœ¬é™åˆ¶
                            local ifcond ""
                            if `age' == 1 local ifcond "if age>=25 & age<=55"
                            if `age' == 2 local ifcond "if age>=30 & age<=50"
                            
                            * è¿è¡Œå›å½’
                            cap noi reg `dv' grade `controls' `ifcond'
                            
                            if _rc == 0 {
                                * ä¿å­˜ç»“æœåˆ°ä¸´æ—¶å˜é‡
                                scalar b = _b[grade]
                                scalar se = _se[grade]
                                scalar t = b / se
                                scalar p = 2 * ttail(e(df_r), abs(t))
                                
                                * å†™å…¥ç»“æœæ•°æ®é›†
                                use results, clear
                                replace coef = b in `row'
                                replace se = se in `row'
                                replace ci_lower = b - 1.96*se in `row'
                                replace ci_upper = b + 1.96*se in `row'
                                replace pvalue = p in `row'
                                replace significant = (abs(t) > 1.96) in `row'
                                replace use_log = ("`dv'"=="log_wage") in `row'
                                replace ctrl_exp = `exp' in `row'
                                replace ctrl_married = `mar' in `row'
                                replace ctrl_region = `reg' in `row'
                                replace ctrl_industry = `ind' in `row'
                                replace ctrl_occupation = `occ' in `row'
                                replace age_restrict = `age' in `row'
                                save results, replace
                            }
                            
                            local ++row
                        }
                    }
                }
            }
        }
    }
}
```

**æ³¨æ„**ï¼šä¸Šè¿°ä»£ç ä½¿ç”¨äº†åå¤ä¿å­˜å’Œè½½å…¥æ•°æ®çš„æ–¹å¼ï¼Œåœ¨å®é™…æ“ä½œä¸­æ•ˆç‡è¾ƒä½ã€‚æ›´é«˜æ•ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨ `postfile` å‘½ä»¤ï¼š

```stata
* ä½¿ç”¨ postfile é«˜æ•ˆä¿å­˜ç»“æœ
tempname results
postfile `results' model_id coef se ci_lower ci_upper pvalue ///
    significant use_log ctrl_exp ctrl_married ctrl_region ///
    ctrl_industry ctrl_occupation age_restrict ///
    using "spec_results.dta", replace

local row = 1

foreach dv of local depvar_opts {
    foreach exp of local exp_opts {
        foreach mar of local married_opts {
            foreach reg of local region_opts {
                foreach ind of local industry_opts {
                    foreach occ of local occupation_opts {
                        foreach age of local age_opts {
                            
                            * [ä¸ä¸Šé¢ç›¸åŒçš„å›å½’ä»£ç ]
                            
                            * ä¿å­˜åˆ° postfile
                            post `results' (`row') (_b[grade]) (_se[grade]) ///
                                (`=_b[grade]-1.96*_se[grade]') ///
                                (`=_b[grade]+1.96*_se[grade]') ///
                                (`=2*ttail(e(df_r), abs(_b[grade]/_se[grade]))') ///
                                (`=abs(_b[grade]/_se[grade])>1.96') ///
                                (`=("`dv'"=="log_wage")') (`exp') (`mar') ///
                                (`reg') (`ind') (`occ') (`age')
                            
                            local ++row
                        }
                    }
                }
            }
        }
    }
}

postclose `results'
use spec_results, clear
```

### 6.4 ç»˜åˆ¶è§„èŒƒæ›²çº¿

```stata
* è½½å…¥ç»“æœ
use spec_results, clear

* æŒ‰ä¼°è®¡ç³»æ•°æ’åº
gsort coef
gen rank = _n

* ç”Ÿæˆæ˜¾è‘—æ€§æ ‡è®°
gen color = cond(significant == 1, "red", "gray")

* ç»˜åˆ¶ä¸Šæ–¹é¢æ¿ï¼šç³»æ•°å›¾
twoway (rcap ci_lower ci_upper rank, lcolor(gs12)) ///
       (scatter coef rank if significant == 1, ///
           mcolor(red) msymbol(o) msize(small)) ///
       (scatter coef rank if significant == 0, ///
           mcolor(gray) msymbol(o) msize(small)), ///
    yline(0, lcolor(black) lpattern(dash)) ///
    xlabel(, nogrid) ///
    ylabel(, angle(0) format(%4.2f)) ///
    ytitle("Coefficient on Years of Education") ///
    xtitle("Model Specification (ranked)") ///
    title("Specification Curve: Returns to Education") ///
    legend(order(2 "Significant (p<0.05)" 3 "Not significant") ///
        pos(6) rows(1)) ///
    name(spec_curve, replace)

* ç»˜åˆ¶ä¸‹æ–¹é¢æ¿ï¼šè®¾å®šçŸ©é˜µ
* [è¿™éƒ¨åˆ†éœ€è¦æ›´å¤æ‚çš„å›¾å½¢ç¼–ç¨‹ï¼Œé€šå¸¸ä½¿ç”¨ heatmap æˆ–ç‚¹é˜µå›¾]
* ç®€åŒ–ç‰ˆæœ¬ï¼šä½¿ç”¨å¤šä¸ª bar å›¾å åŠ 

* æ–¹æ³• 1ï¼šä½¿ç”¨ twoway bar
preserve
gen y1 = use_log * 1
gen y2 = ctrl_exp * 2
gen y3 = ctrl_married * 3
gen y4 = ctrl_region * 4
gen y5 = ctrl_industry * 5
gen y6 = ctrl_occupation * 6

twoway (bar y1 rank, barwidth(1) color(navy)) ///
       (bar y2 rank, barwidth(1) color(navy)) ///
       (bar y3 rank, barwidth(1) color(navy)) ///
       (bar y4 rank, barwidth(1) color(navy)) ///
       (bar y5 rank, barwidth(1) color(navy)) ///
       (bar y6 rank, barwidth(1) color(navy)), ///
    ylabel(1 "Use log" 2 "Control exp" 3 "Control married" ///
           4 "Control region" 5 "Control industry" ///
           6 "Control occupation", angle(0)) ///
    xtitle("") xlabel(, nogrid) ///
    legend(off) ///
    name(spec_matrix, replace)

restore

* åˆå¹¶ä¸¤ä¸ªå›¾å½¢
graph combine spec_curve spec_matrix, ///
    cols(1) rows(2) ///
    imargin(0 0 0 0) ///
    ysize(8) xsize(10) ///
    name(combined, replace)
```

### 6.5 åˆ†æç»“æœ

```stata
* æ±‡æ€»ç»Ÿè®¡
sum coef, detail
di "Median coefficient: " r(p50)
di "Min coefficient: " r(min)
di "Max coefficient: " r(max)
di "Std. dev. of coefficients: " r(sd)

* æ˜¾è‘—æ€§æ¯”ä¾‹
count if significant == 1
local n_sig = r(N)
count
local n_total = r(N)
di "Proportion significant: " `n_sig' / `n_total'

* æŒ‰è®¾å®šç»´åº¦åˆ†ç»„æ¯”è¾ƒ
bysort use_log: sum coef
bysort ctrl_exp: sum coef
bysort ctrl_industry: sum coef
bysort ctrl_occupation: sum coef
```

**è§£è¯»ç»“æœ**ï¼š

å‡è®¾æˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹ç»“æœ (ç¤ºä¾‹)ï¼š

- ä¸­ä½æ•°ä¼°è®¡ï¼š0.08 (å¯¹æ•°å·¥èµ„) æˆ– 2.5 (å·¥èµ„æ°´å¹³)
- ä¼°è®¡èŒƒå›´ï¼š0.05 - 0.12 (å¯¹æ•°å·¥èµ„) æˆ– 1.8 - 3.5 (å·¥èµ„æ°´å¹³)
- æ˜¾è‘—æ¯”ä¾‹ï¼š92% çš„æ¨¡å‹äº§ç”Ÿ p < 0.05 çš„ç»“æœ

**ç»“è®º**ï¼š

1. **ç¨³å¥æ€§å¼º**ï¼šç»å¤§å¤šæ•°æ¨¡å‹ (92%) éƒ½äº§ç”Ÿæ˜¾è‘—ä¸ºæ­£çš„ä¼°è®¡ï¼Œè¯´æ˜æ•™è‚²å¯¹æ”¶å…¥çš„æ­£å‘æ•ˆåº”æ˜¯ç¨³å¥çš„
2. **è®¾å®šæ•æ„Ÿæ€§**ï¼šä¼°è®¡å€¼åœ¨ä¸åŒæ¨¡å‹é—´æœ‰ä¸€å®šå˜å¼‚ (æ ‡å‡†å·®çº¦ 0.02)ï¼Œä½†ç¬¦å·å’Œæ˜¾è‘—æ€§åŸºæœ¬ä¸€è‡´
3. **å…³é”®è®¾å®š**ï¼š
   - æ˜¯å¦ä½¿ç”¨å¯¹æ•°å·¥èµ„ï¼šè¿™å¯¹ä¼°è®¡å€¼çš„å¤§å°æœ‰æ˜¾è‘—å½±å“ï¼Œä½†ä¸æ”¹å˜æ­£å‘æ•ˆåº”çš„ç»“è®º
   - æ˜¯å¦æ§åˆ¶èŒä¸š/è¡Œä¸šï¼šæ§åˆ¶è¿™äº›å˜é‡åï¼Œä¼°è®¡å€¼ç•¥æœ‰ä¸‹é™ï¼Œè¯´æ˜éƒ¨åˆ†æ•™è‚²æ•ˆåº”é€šè¿‡èŒä¸šé€‰æ‹©å®ç°

---

## 7. æ‰©å±•ï¼šå¤šå…ƒå›å½’çš„è§„èŒƒæ›²çº¿

### 7.1 å¤šä¸ªæ ¸å¿ƒå˜é‡çš„ SCA

åœ¨æŸäº›ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½åŒæ—¶å…³å¿ƒå¤šä¸ªå¤„ç†å˜é‡çš„æ•ˆåº”ã€‚ä¾‹å¦‚ï¼Œåœ¨ç ”ç©¶æ•™è‚²å’Œç»éªŒå¯¹æ”¶å…¥çš„å½±å“æ—¶ï¼Œæˆ‘ä»¬åŒæ—¶å…³å¿ƒæ•™è‚²å¹´é™å’Œå·¥ä½œç»éªŒçš„ç³»æ•°ã€‚æ­¤æ—¶ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªæ ¸å¿ƒå˜é‡ç»˜åˆ¶å•ç‹¬çš„è§„èŒƒæ›²çº¿ï¼Œæˆ–åœ¨åŒä¸€å¼ å›¾ä¸Šç”¨ä¸åŒé¢œè‰²å±•ç¤ºã€‚

```stata
* è¿è¡Œå›å½’å¹¶ä¿å­˜å¤šä¸ªç³»æ•°
postfile results model_id coef_educ se_educ sig_educ ///
    coef_exp se_exp sig_exp ///
    [å…¶ä»–è®¾å®šå˜é‡] ///
    using "multi_spec_results.dta", replace

* [å¾ªç¯è¿è¡Œæ‰€æœ‰æ¨¡å‹ï¼Œæ¯æ¬¡ä¿å­˜ä¸¤ä¸ªç³»æ•°]

postclose results

* ç»˜åˆ¶åŒè§„èŒƒæ›²çº¿
use multi_spec_results, clear

gsort coef_educ
gen rank = _n

twoway (rcap ci_lower_educ ci_upper_educ rank, lcolor(blue)) ///
       (scatter coef_educ rank, mcolor(blue) msymbol(o)) ///
       (rcap ci_lower_exp ci_upper_exp rank, lcolor(red)) ///
       (scatter coef_exp rank, mcolor(red) msymbol(D)), ///
    legend(order(2 "Education" 4 "Experience"))
```

### 7.2 äº¤äº’æ•ˆåº”çš„ SCA

å¦‚æœç ”ç©¶å…³æ³¨äº¤äº’æ•ˆåº” (ä¾‹å¦‚æ•™è‚²å¯¹ä¸åŒæ€§åˆ«çš„å¼‚è´¨æ€§å½±å“)ï¼Œå¯ä»¥å°†äº¤äº’é¡¹çš„ç³»æ•°ä½œä¸ºæ„Ÿå…´è¶£çš„å‚æ•°ï¼š

```stata
* è¿è¡ŒåŒ…å«äº¤äº’é¡¹çš„å›å½’
reg log_wage c.grade##i.female `controls'

* ä¿å­˜äº¤äº’é¡¹ç³»æ•°
scalar interaction_coef = _b[1.female#c.grade]
```

åœ¨è§„èŒƒæ›²çº¿ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº¤äº’é¡¹ç³»æ•°åœ¨ä¸åŒè®¾å®šä¸‹çš„å˜åŒ–ï¼Œä»¥è¯„ä¼°å¼‚è´¨æ€§æ•ˆåº”çš„ç¨³å¥æ€§ã€‚

---

## 8. ä¸å…¶ä»–ç¨³å¥æ€§æ£€éªŒæ–¹æ³•çš„æ¯”è¾ƒ

### 8.1 SCA vs. å¤šå…ƒå®‡å®™åˆ†æ (Multiverse Analysis)

å¤šå…ƒå®‡å®™åˆ†æ (Steegen et al., 2016) ä¸ SCA éå¸¸ç›¸ä¼¼ï¼Œæ ¸å¿ƒæ€æƒ³éƒ½æ˜¯ç³»ç»Ÿåœ°å±•ç¤ºä¸åŒæ¨¡å‹è®¾å®šä¸‹çš„ç»“æœã€‚ä¸»è¦åŒºåˆ«åœ¨äºï¼š

- **SCA**ï¼šæ›´ä¾§é‡äºã€Œåˆç†ã€æ¨¡å‹ç©ºé—´çš„ç•Œå®šï¼Œå¼ºè°ƒäº‹å‰ç¡®å®šè®¾å®šé€‰é¡¹
- **Multiverse**ï¼šæ›´å€¾å‘äºåŒ…å«æ‰€æœ‰å¯èƒ½çš„æ•°æ®å¤„ç†å’Œåˆ†æè·¯å¾„ï¼Œç”šè‡³åŒ…æ‹¬æ•°æ®æ¸…æ´—æ­¥éª¤çš„ä¸åŒé€‰æ‹©

åœ¨å®è·µä¸­ï¼Œä¸¤è€…å¯ä»¥è§†ä¸ºåŒä¸€æ¡†æ¶ä¸‹çš„ä¸åŒåº”ç”¨ã€‚

### 8.2 SCA vs. Extreme Bounds Analysis (EBA)

Extreme Bounds Analysis (Leamer, 1983) æ˜¯ç»æµå­¦ä¸­è¾ƒæ—©çš„ç¨³å¥æ€§æ£€éªŒæ–¹æ³•ã€‚å®ƒé€šè¿‡å°†æ§åˆ¶å˜é‡åˆ†ä¸ºã€Œæ ¸å¿ƒå˜é‡ã€å’Œã€Œå¾…æ£€éªŒå˜é‡ã€ä¸¤ç»„ï¼Œç³»ç»Ÿåœ°æµ‹è¯•å¾…æ£€éªŒå˜é‡åœ¨ä¸åŒæ§åˆ¶å˜é‡ç»„åˆä¸‹æ˜¯å¦ç¨³å¥ã€‚

SCA ç›¸æ¯” EBA çš„ä¼˜åŠ¿ï¼š

1. **æ›´å…¨é¢**ï¼šSCA è€ƒè™‘æ‰€æœ‰è®¾å®šç»´åº¦ï¼Œè€Œä¸ä»…æ˜¯æ§åˆ¶å˜é‡çš„é€‰æ‹©
2. **æ›´ç›´è§‚**ï¼šè§„èŒƒæ›²çº¿å›¾æ¯” EBA çš„æ•°å€¼è¡¨æ ¼æ›´æ˜“äºç†è§£å’Œä¼ è¾¾
3. **æ›´çµæ´»**ï¼šSCA å¯ä»¥è½»æ¾æ‰©å±•åˆ°éçº¿æ€§æ¨¡å‹ã€ä¸åŒä¼°è®¡æ–¹æ³•ç­‰

### 8.3 SCA vs. æ•æ„Ÿæ€§åˆ†æ (Sensitivity Analysis)

ä¼ ç»Ÿçš„æ•æ„Ÿæ€§åˆ†æé€šå¸¸é‡‡ç”¨ã€Œone-at-a-timeã€æ–¹å¼ï¼šå›ºå®šå…¶ä»–è®¾å®šï¼Œåªæ”¹å˜ä¸€ä¸ªè®¾å®šç»´åº¦ï¼Œè§‚å¯Ÿç»“æœçš„å˜åŒ–ã€‚è¿™ç§æ–¹æ³•çš„é—®é¢˜æ˜¯ï¼š

- æ— æ³•æ•æ‰å¤šä¸ªè®¾å®šç»´åº¦çš„äº¤äº’æ•ˆåº”
- å¯èƒ½é—æ¼æŸäº›ç‰¹å®šè®¾å®šç»„åˆä¸‹çš„è„†å¼±æ€§

SCA é€šè¿‡ç©·ä¸¾æ‰€æœ‰ç»„åˆï¼Œèƒ½å¤Ÿæ›´å…¨é¢åœ°è¯„ä¼°ç¨³å¥æ€§ã€‚

---

## 9. å°ç»“ä¸å±•æœ›

è§„èŒƒæ›²çº¿åˆ†æ (SCA) ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç³»ç»ŸåŒ–ã€é€æ˜åŒ–çš„æ¡†æ¶æ¥å¤„ç†ç ”ç©¶ä¸­çš„ã€Œç ”ç©¶è€…è‡ªç”±åº¦ã€é—®é¢˜ã€‚é€šè¿‡å±•ç¤ºæ‰€æœ‰åˆç†æ¨¡å‹è®¾å®šä¸‹çš„ç»“æœï¼ŒSCA ä¸ä»…èƒ½å¤Ÿæé«˜ç ”ç©¶çš„é€æ˜åº¦å’Œå¯å¤åˆ¶æ€§ï¼Œè¿˜èƒ½å¸®åŠ©ç ”ç©¶è€…å’Œè¯»è€…æ›´å…¨é¢åœ°ç†è§£ç»“æœçš„ç¨³å¥æ€§å’Œæ•æ„Ÿæ€§ã€‚

**æ ¸å¿ƒè¦ç‚¹**ï¼š

1. **p-hacking æ˜¯ä¸¥é‡é—®é¢˜**ï¼šé€‰æ‹©æ€§æŠ¥å‘Šæ¨¡å‹ä¼šå¯¼è‡´è™šå‡å‘ç°å’Œå¤åˆ¶å±æœº
2. **SCA æ˜¯æœ‰æ•ˆåº”å¯¹**ï¼šé€šè¿‡ç©·ä¸¾å±•ç¤ºåˆç†æ¨¡å‹ï¼ŒSCA æ¶ˆé™¤äº†é€‰æ‹©æ€§æŠ¥å‘Šçš„ç©ºé—´
3. **å®æ–½éœ€è°¨æ…**ï¼šåˆç†ç•Œå®šæ¨¡å‹ç©ºé—´ã€äº‹å‰ç¡®å®šè®¾å®šé€‰æ‹©ã€å®Œæ•´æŠ¥å‘Šç»“æœ
4. **å·¥å…·å¯ç”¨**ï¼šStata çš„ `mvplot` ç­‰å‘½ä»¤ä½¿ SCA çš„å®æ–½æ›´åŠ ä¾¿æ·

**æœªæ¥æ–¹å‘**ï¼š

1. **æ ‡å‡†åŒ–ä¸è§„èŒƒåŒ–**ï¼šå­¦æœ¯ç•Œéœ€è¦å°± SCA çš„æœ€ä½³å®è·µè¾¾æˆå…±è¯†ï¼ŒåŒ…æ‹¬å¦‚ä½•ç•Œå®šåˆç†æ¨¡å‹ç©ºé—´ã€å¦‚ä½•æŠ¥å‘Šç»“æœç­‰
2. **è®¡ç®—æ•ˆç‡**ï¼šå¼€å‘æ›´é«˜æ•ˆçš„ç®—æ³•å’Œè½¯ä»¶å·¥å…·ï¼Œä»¥å¤„ç†å¤§è§„æ¨¡çš„æ¨¡å‹ç»„åˆ
3. **ç»Ÿè®¡æ¨æ–­**ï¼šè¿›ä¸€æ­¥å‘å±•åŸºäº SCA çš„æ¨æ–­æ–¹æ³•ï¼Œå¦‚å¦‚ä½•è¿›è¡Œå¤šé‡æ£€éªŒæ ¡æ­£ã€å¦‚ä½•è®¡ç®—æ•´ä½“ p å€¼ç­‰
4. **é¢„æ³¨å†Œæ¨å¹¿**ï¼šé¼“åŠ±ç ”ç©¶è€…åœ¨æ”¶é›†æ•°æ®å‰é¢„æ³¨å†Œæ¨¡å‹è®¾å®šç©ºé—´ï¼Œå¢å¼º SCA çš„å¯ä¿¡åº¦

éšç€å­¦æœ¯ç•Œå¯¹å¯å¤åˆ¶æ€§å’Œç ”ç©¶é€æ˜åº¦çš„æ—¥ç›Šé‡è§†ï¼Œæˆ‘ä»¬æœŸå¾… SCA èƒ½å¤Ÿæˆä¸ºå®è¯ç ”ç©¶ä¸­çš„æ ‡å‡†å·¥å…·ï¼Œå¸®åŠ©æ„å»ºæ›´åŠ å¯é å’Œå¯ä¿¡çš„ç§‘å­¦çŸ¥è¯†ä½“ç³»ã€‚

---

## å‚è€ƒæ–‡çŒ®

1. Lenz, G. S., & Sahn, A. (2021). Achieving Statistical Significance with Control Variables and Without Transparency. Political Analysis, 29(3), 356â€“369. [Link](https://doi.org/10.1017/pan.2020.31), [PDF](http://sci-hub.ren/10.1017/pan.2020.31), [Google](<https://scholar.google.com/scholar?q=Achieving Statistical Significance with Control Variables and Without Transparency>).

2. Simonsohn, U., Simmons, J. P., & Nelson, L. D. (2020). Specification curve analysis. Nature Human Behaviour, 4(11), 1208â€“1214. [Link](https://doi.org/10.1038/s41562-020-0912-z), [PDF](http://sci-hub.ren/10.1038/s41562-020-0912-z), [Google](<https://scholar.google.com/scholar?q=Specification curve analysis>).

3. Steegen, S., Tuerlinckx, F., Gelman, A., & Vanpaemel, W. (2016). Increasing Transparency Through a Multiverse Analysis. Perspectives on Psychological Science, 11(5), 702â€“712. [Link](https://doi.org/10.1177/1745691616658637), [PDF](https://doi.org/10.1177/1745691616658637), [Google](<https://scholar.google.com/scholar?q=Increasing Transparency Through a Multiverse Analysis>).

4. Leamer, E. E. (1983). Let's Take the Con Out of Econometrics. The American Economic Review, 73(1), 31â€“43. [Link](https://www.jstor.org/stable/1803924), [Google](<https://scholar.google.com/scholar?q=Let's Take the Con Out of Econometrics>).

5. Young, C., & Holsteen, K. (2016). Model Uncertainty and Robustness. Sociological Methods & Research, 46(1), 3â€“40. [Link](https://doi.org/10.1177/0049124115610347), [PDF](http://sci-hub.ren/10.1177/0049124115610347), [Google](<https://scholar.google.com/scholar?q=Model Uncertainty and Robustness>).
