
# B893：翻译-causal-learn仓库-python

翻译 + 酌情补充：

Zheng, Y., Huang, B., Chen, W., Ramsey, J., Gong, M., Cai, R., Shimizu, S., Spirtes, P., & Zhang, K. (2024). Causal-learn: Causal discovery in python. Journal of Machine Learning Research, 25(60), 1-8.

Causal Discovery in Python. It also includes (conditional) independence tests and score functions.

[causal-learn.readthedocs.io/en/latest/](https://causal-learn.readthedocs.io/en/latest/)

- [github](https://github.com/py-why/causal-learn)



# B892：DoWhy：Python 仓库介绍

- [github](https://github.com/py-why/dowhy)

![20250619000930](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250619000930.png)

`DoWhy` is a Python library for causal inference that supports explicit modeling and testing of causal assumptions. `DoWhy` is based on a unified language for causal inference, combining causal graphical models and potential outcomes frameworks.

## [Checkout the documentation](https://py-why.github.io/dowhy/)

-   The documentation, user guide, sample notebooks and other information are available at

    [https://py-why.github.io/dowhy](https://py-why.github.io/dowhy/)

-   DoWhy is part of the [PyWhy Ecosystem](https://www.pywhy.org/). For more tools and libraries related to causality, checkout the [PyWhy GitHub organization](https://github.com/py-why/)!
-   For any questions, comments, or discussions about specific use cases, join our community on [Discord](https://discord.gg/cSBGb3vsZb) ([![discord](https://camo.githubusercontent.com/b32b103b53c60888ed9606a1ce38d9864949cb1c0a1d7c94796d7b01b6e33c99/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f383138343536383437353531313638353432)](https://discord.gg/cSBGb3vsZb))
-   Jump right into some case studies:

    -   Effect estimation: [Hotel booking cancellations](https://towardsdatascience.com/beyond-predictive-models-the-causal-story-behind-hotel-booking-cancellations-d29e8558cbaf) | [Effect of customer loyalty programs](https://www.pywhy.org/dowhy/main/example_notebooks/dowhy_example_effect_of_memberrewards_program.html) | [Optimizing article headlines](https://medium.com/@akelleh/introducing-the-do-sampler-for-causal-inference-a3296ea9e78d) | [Effect of home visits on infant health (IHDP)](https://towardsdatascience.com/implementing-causal-inference-a-key-step-towards-agi-de2cde8ea599) | [Causes of customer churn/attrition](https://medium.com/geekculture/a-quickstart-for-causal-analysis-decision-making-with-dowhy-2ce2d4d1efa9)
    -   Root cause analysis and explanations: [Causal attribution and root-cause analysis of an online shop](https://www.pywhy.org/dowhy/main/example_notebooks/gcm_online_shop.html) | [Finding the Root Cause of Elevated Latencies in a Microservice Architecture](https://www.pywhy.org/dowhy/main/example_notebooks/gcm_rca_microservice_architecture.html) | [Finding Root Causes of Changes in a Supply Chain](https://www.pywhy.org/dowhy/main/example_notebooks/gcm_supply_chain_dist_change.html)

For more example notebooks, see [here!](https://www.pywhy.org/dowhy/main/example_notebooks/nb_index.html)





# B891：medoutcon-中介效应之路径分析-R语言

- What's medoutcon?
  - The `medoutcon` R package provides facilities for efficient estimation of path-specific (in)direct effects that measure the impact of a treatment variable $A$ on an outcome variable $Y$, through a direct path (through $A$ only) and an indirect path (through a set of mediators $M$ only). 
- [github](https://github.com/nhejazi/medoutcon)
- webste: <codex.nimahejazi.org/medoutcon>
  

# B890：连续中介效应的双重机器学习估计-python

Zenati, H., Abécassis, J., Josse, J., & Thirion, B. (2025). Double Debiased Machine Learning for Mediation Analysis with Continuous Treatments (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2503.06156) (rep), [PDF](https://arxiv.org/pdf/2503.06156.pdf), [Google](<https://scholar.google.com/scholar?q=Double Debiased Machine Learning for Mediation Analysis with Continuous Treatments (Version 1)>).

- replication: <https://github.com/houssamzenati/double-debiased-machine-learning-mediation-continuous-treatments>

# B889：medDML：基于双重机器学习的因果中介分析

Farbmacher, H., Huber, M., Lafférs, L., Langen, H., & Spindler, M. (2022). Causal mediation analysis with double machine learning. The Econometrics Journal, 25(2), 277–300. [Link](https://doi.org/10.1093/ectj/utac003), [PDF](https://arxiv.org/pdf/2002.12710.pdf), [Google](<https://scholar.google.com/scholar?q=Causal mediation analysis with double machine learning>). [-cited-](https://scholar.google.com/scholar?cites=7018126131944510539&as_sdt=2005&sciodt=0,5&hl=zh-CN), [-Replication-](),  

- `medDML`: Causal mediation analysis with double machine learning
- [github](



# B888：论文推介：实证研究的未来和挑战

Otsuka, K., Higuchi, Y., Suzuki, A. (2024). Challenges in Empirical Research in Economics: The Way Forward. In: Otsuka, K., Kurosaki, T., Sawada, Y., Sonobe, T. (eds) Next-Generation of Empirical Research in Economics. Springer, Singapore. [-Link-](https://doi.org/10.1007/978-981-97-1887-0_4), [-PDF-](https://link.springer.com/content/pdf/10.1007/978-981-97-1887-0.pdf)

毫无疑问，随机对照试验（RCT）和自然实验（NE）作为识别因果关系的估计方法，是可靠的。在未来的经济学实证研究中，采用这些方法的研究有望占据重要位置。这些方法将占据何种重要位置，取决于它们解答的研究问题的意义。既然识别因果效应的技术已经得到建立，那么研究主题的选择将变得尤为重要。

根据作者的经验，传统的观察性研究通常按以下步骤进行：研究者从文献综述中选择看似重要的主题，进行初步调查以了解现实情况，设定研究问题，并确定分析的方向。在这一阶段，分析的最终结果尚不可知，研究主题仍有可能进行修改。因此，观察性研究允许研究者探索尚未解决的问题。然而，对于 RCT 和 NE，研究者在选题阶段就必须预测结果，因为在数据收集之前，需要考虑识别方法和 RCT 设计。如果没有选择一个合适的主题，大规模实验或大量数据收集可能会得出无意义的结果。特别是如果进行 RCT 时没有充分理解当地的实际情况，失败的风险会很高。为了避免这种情况，了解领域现实、掌握经济学理论和计量经济学技巧，对于选择一个合适的研究主题至关重要。

然而，具备所有所需技能的研究者非常少见。例如，很少有研究者能够同时掌握流行病学知识、了解非洲驱虫药物的疗效、基于经济学理论考虑外部性，并且能够运用恰当的计量经济学方法进行所有估计。因此，正如表 4.2 所示，合著者的数量正在不断增加，预计那些具备深厚领域理解、扎实经济学理论基础和计量经济学技能的研究者之间的联合研究将变得越来越重要。然而，完备的分工合作并非易事。如果不同专业背景的研究者共同合作，由于信息不对称，他们可能无法互相评估彼此的工作成果，甚至产生怀疑，这可能导致合作研究的失败。因此，只有当合著者能够理解彼此的努力和贡献时，知识共享才是联合研究成功的前提。

从这个角度来看，未来有效使用 RCT 和 NE 的门槛可能会越来越高。特别是大规模的 RCT 对于资源有限的年轻研究者来说，既昂贵又具有相当的负担。在这种情况下，使用二手数据且应用范围更广的 NE 方法可能会变得更加重要。

# B887：会计领域的研究中贝叶斯推断的应用

论文推介

Schütt, H. H. (2023). What Can Bayesian Inference Do for Accounting Research? Journal of Financial Reporting, 8(2), 157–174. [Link](https://doi.org/10.2308/JFR-2021-002), [PDF](https://papers.ssrn.com/sol3/Delivery.cfm/SSRN_ID4433503_code1300406.pdf?abstractid=4433503&mirid=1), [Google](<https://scholar.google.com/scholar?q=What Can Bayesian Inference Do for Accounting Research>). 


# B886：beyond p<0.05: 

- Kallapur, Sanjay, Beyond P<0.05: Scientific Inference in Accounting Research (December 7, 2022). Studies in Accounting Research #34, American Accounting Association, Available at SSRN: https://ssrn.com/abstract=4413565 or http://dx.doi.org/10.2139/ssrn.4413565, [-PDF-](https://papers.ssrn.com/sol3/Delivery.cfm/SSRN_ID4413565_code65388.pdf?abstractid=4413565&mirid=1&type=2)

## 参考文献

- Kallapur, Sanjay. 2022. *Beyond P<0.05: Scientific Inference in Accounting Research. Studies in Accounting Research*, Vol. *34*. Sarasota: American Accounting Association.[10.2139/ssrn.4413565](https://doi.org/10.2139/ssrn.4413565)[Search in Google Scholar](https://scholar.google.com/scholar?q=Kallapur%2C%20Sanjay.%202022.%20Beyond%20P%3C0.05%3A%20Scientific%20Inference%20in%20Accounting%20Research.%20Studies%20in%20Accounting%20Research%20%2C%20Vol.%C2%A0%2034%20.%20Sarasota%3A%20American%20Accounting%20Association.)

- Leuz, Christian. 2022. "Towards a Design-Based Approach to Accounting Research." *Journal of Accounting and Economics* *74* (2): 101550. <https://doi.org/10.1016/j.jacceco.2022.101550>.[Search in Google Scholar](https://scholar.google.com/scholar?q=Leuz%2C%20Christian.%202022.%20%E2%80%9CTowards%20a%20Design-Based%20Approach%20to%20Accounting%20Research.%E2%80%9D%20Journal%20of%20Accounting%20and%20Economics%2074%20%282%29%3A%20101550.%20.)
Schütt, Harm H. 2023. "What Can Bayesian Inference Do for Accounting Research?" *Journal of Financial Reporting*. August, 1--18. <https://doi.org/10.2308/JFR-2021-002>.[Search in Google Scholar](https://scholar.google.com/scholar?q=Sch%C3%BCtt%2C%20Harm%20H.%202023.%20%E2%80%9CWhat%20Can%20Bayesian%20Inference%20Do%20for%20Accounting%20Research%3F%E2%80%9D%20Journal%20of%20Financial%20Reporting%20.%20August%2C%201%E2%80%9318.%20.)







# B885：did_multiplegt_stat：多时间点DID的统计检验

`did_multiplegt_stat`: Estimation of heterogeneity-robust difference-in-differences (DID) estimators, with a binary, discrete, or continuous treatment or instrument, in designs with stayers, assuming that past treatments do not affect the current outcome. 

- De Chaisemartin, C., D’haultfœuille, X., & Vazquez-Bare, G. (2024). Difference-in-Difference Estimators with Continuous Treatments and No Stayers. AEA Papers and Proceedings, 114, 610–613. [Link](https://doi.org/10.1257/pandp.20241049) (rep), [-PDF-](https://economics.unibocconi.eu/sites/default/files/files/media/attachments/ssrn-id401178220240308110605.pdf), [PDF2](https://gvazquezbare.github.io/papers/Chaisemartin-DHaultfoeuille-VazquezBare_2024_AEAPP.pdf), [Appendix](https://www.aeaweb.org/doi/10.1257/pandp.20241049.appx), [Google](<https://scholar.google.com/scholar?q=Difference-in-Difference Estimators with Continuous Treatments and No Stayers>). 
  - [-Replication-Stata codes](https://www.openicpsr.org/openicpsr/project/197825/version/V2/view) 
  - github: <https://github.com/chaisemartinPackages/did_multiplegt_stat>

介绍论文的思路、核心方法，提供 Stata 实操案例和代码。

# B884：civ: Categorical Instrumental Variables-R语言

Wiemann, T. (2023). Optimal Categorical Instrumental Variables (Version 2). arXiv. [Link](https://doi.org/10.48550/arXiv.2311.17021) (rep), [PDF](https://arxiv.org/pdf/2311.17021.pdf), [Google](<https://scholar.google.com/scholar?q=Optimal Categorical Instrumental Variables (Version 2)>). [github](https://github.com/thomaswiemann/civ), [Website](https://thomaswiemann.com/civ/)
- Github: <https://github.com/thomaswiemann/civ>
 

# B883：论文推介-包含样本选择的DID

- Rathnayake, G., Negi, A., Bartalotti, O., & Zhao, X. (2024). Difference-in-Differences with Sample Selection (Version 2). arXiv. Revise & Resubmit, Journal of Econometrics. [Link](https://doi.org/10.48550/arXiv.2411.09221) (rep), [PDF](https://arxiv.org/pdf/2411.09221.pdf), [Google](<https://scholar.google.com/scholar?q=Difference-in-Differences with Sample Selection (Version 2)>). 
  - 发邮件给作者，询问是否有可以实现的程序。
  - 期间有问题，请联系连老师

# B882：论文推介-Synthetic Parallel Trends

Liu, Y. (2025). Synthetic Parallel Trends (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2511.05870) (rep), [PDF](https://arxiv.org/pdf/2511.05870.pdf), [Google](<https://scholar.google.com/scholar?q=Synthetic Parallel Trends (Version 1)>).

- AI 生成的初稿可以到【[sample](https://github.com/arlionn/lianxhta/tree/main/sample)】文件夹中查询
- 你可以在这个版本上修改、润色；补充代码实操及结果解读等内容。具体而言：
  - AI 生成的稿子有时候缺少细节，你需要补充细节 (可以借助 AI 多轮聊天)
  - 原文中的重要图形和表格需要你自己截图或生成后插入，并附带说明
  - 代码实操部分需要你自己完成，并附带结果解读。请务必自己执行代码，把复现过程中发现的问题写入推文。



# B881：大模型在金融领域的应用综述

Nie, Y., Kong, Y., Dong, X., Mulvey, J. M., Poor, H. V., Wen, Q., & Zohren, S. (2024). A Survey of Large Language Models for Financial Applications: Progress, Prospects and Challenges (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2406.11903) (rep), [PDF](https://arxiv.org/pdf/2406.11903.pdf), [Google](<https://scholar.google.com/scholar?q=A Survey of Large Language Models for Financial Applications: Progress, Prospects and Challenges (Version 1)>).

![LLM-Finance-survey-01](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/LLM-Finance-survey-01.png)

![LLM-Finance-survey-02](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/LLM-Finance-survey-02.png)


# B880：Python 时序分析常用包汇总

介绍几个常用的 Python 时序分析包：

- `StatsForecast`
  - website: <https://statsforecast.github.io/statsforecast/>
  - github: <https://github.com/Nixtla/statsforecast>
- `Sktime`
  - website: <https://www.sktime.org/>
  - github: <https://github.com/alan-turing-institute/sktime>
- `DARTS`
  - website: <https://www.dartslibrary.dev/>
  - github: <https://github.com/unit8co/darts>
- `Nixtla`
  - website: <https://www.nixtla.io/>
    - [Documents](<https://www.nixtla.io/docs>)
  - github: <https://github.com/nixtla>

其他时序分析常用 packages：

- Prophet
  - website: <https://facebook.github.io/prophet/>
  - github: <https://github.com/jupyter/prophet>
- Pmdarima
  - website: <https://alkaline-ml.com/pmdarima/>
  - github: <https://github.com/alkaline-ml/pmdarima>




# B879：Nixtla：时间序列分析的未来-python

- `Nixtla`
  - website: <https://www.nixtla.io/>
    - [Documents](<https://www.nixtla.io/docs>)
  - github: <https://github.com/Nixtla/nixtla>

TimeGPT-1: production ready pre-trained Time Series Foundation Model for forecasting and anomaly detection. Generative pretrained transformer for time series trained on over 100B data points. It's capable of accurately predicting various domains such as retail, electricity, finance, and IoT with just a few lines of code

# B878：darts：Python 时间序列分析

- Heiko Onnen. 2021. Blog, Darts’ Swiss Knife for Time Series Forecasting in Python. [read](https://towardsdatascience.com/darts-swiss-knife-for-time-series-forecasting-in-python-f37bb74c126/)

# B877：处理组误分-DID

Negi, A., & Negi, D. S. (2025). Difference‐in‐Differences With a Misclassified Treatment. Journal of Applied Econometrics, 40(4), 411–423. Portico. [Link](https://doi.org/10.1002/jae.3116) (rep), [PDF](https://onlinelibrary.wiley.com/doi/epdf/10.1002/jae.3116), [Google](<https://scholar.google.com/scholar?q=Difference‐in‐Differences With a Misclassified Treatment. Journal of Applied Econometrics, 40(4), 411–423>). [Supplemental Material](https://onlinelibrary.wiley.com/doi/suppl/10.1002/jae.3116#support-information-section)

- AI 生成的初稿可以到【[sample](https://github.com/arlionn/lianxhta/tree/main/sample)】文件夹中查询
- 你可以在这个版本上修改、润色；补充代码实操及结果解读等内容。具体而言：
  - AI 生成的稿子有时候缺少细节，你需要补充细节 (可以借助 AI 多轮聊天)
  - 原文中的重要图形和表格需要你自己截图或生成后插入，并附带说明
  - 代码实操部分需要你自己完成，并附带结果解读。请务必自己执行代码，把复现过程中发现的问题写入推文。


# B876：时序序列插值-python

- Du, W., Wang, J., Qian, L., Yang, Y., Ibrahim, Z., Liu, F., Wang, Z., Liu, H., Zhao, Z., Zhou, Y., Wang, W., Ding, K., Liang, Y., Prakash, B. A., & Wen, Q. (2024). TSI-Bench: Benchmarking Time Series Imputation (Version 2). arXiv. [Link](https://doi.org/10.48550/arXiv.2406.12747) (rep), [PDF](https://arxiv.org/pdf/2406.12747.pdf), [Google](<https://scholar.google.com/scholar?q=TSI-Bench: Benchmarking Time Series Imputation (Version 2)>).
  - github: <https://github.com/WenjieDu/Awesome_Imputation>
  


# B875：论文推介-带有样本选择的DID和CIC模型

Viviens, J. (2025). Difference-in-Differences and Changes-in-Changes with Sample Selection (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2502.08614) (rep), [PDF](https://arxiv.org/pdf/2502.08614.pdf), [Google](<https://scholar.google.com/scholar?q=Difference-in-Differences and Changes-in-Changes with Sample Selection (Version 1)>).
  - An R package for implementing the proposed methodology is under development.
  - 可以发邮件给作者，问询相关 R 包的进展情况。如果还没有，就在推文中说明上述情况，并提供作者的联系方式，以便读者索要。要的人多了，作者就会加快进度开发这个程序。

- AI 生成的初稿可以到【[sample](https://github.com/arlionn/lianxhta/tree/main/sample)】文件夹中查询
- 你可以在这个版本上修改、润色；补充代码实操及结果解读等内容。具体而言：
  - AI 生成的稿子有时候缺少细节，你需要补充细节 (可以借助 AI 多轮聊天)
  - 原文中的重要图形和表格需要你自己截图或生成后插入，并附带说明
  - 代码实操部分需要你自己完成，并附带结果解读。请务必自己执行代码，把复现过程中发现的问题写入推文。

# B874：手把手NLP：词嵌入

翻译，适当补充

Shreya Rao, 2024, Blog, NLP Illustrated, Part 1: Text Encoding. [read](https://towardsdatascience.com/nlp-illustrated-part-1-text-encoding-41ba06c0f512/)

# B873：手把手NNW：Long Short-Term Memory (LSTM)

翻译，适当补充

Shreya Rao, 2024, Blog, Deep Learning Illustrated, Part 5: Long Short-Term Memory (LSTM). [read](https://towardsdatascience.com/deep-learning-illustrated-part-5-long-short-term-memory-lstm-d379fbbc9bc6/)

# B872：手把手NNW：卷积神经网络

翻译，适当补充

Shreya Rao, 2024, Blog, Implementing Convolutional Neural Networks in TensorFlow: Step-by-step code guide to building a Convolutional Neural Network. [read](https://shreya-rao.medium.com/implementing-convolutional-neural-networks-in-tensorflow-step-by-step-code-guide-3f3f1f6f4f2d)

![20251104004736](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20251104004736.png)



# B871：手把手NNW：人工神经网络的基本原理

翻译，适当补充

- Shreya Rao, 2024, Blog, Deep Learning Illustrated, Part 1: How Does a Neural Network Work?. [read](https://towardsdatascience.com/neural-networks-illustrated-part-1-how-does-a-neural-network-work-c3f92ce3b462/)


# B870：用 Python 做时间序列分析

翻译，并酌情补充针对中国股市的 pkg，如 `akshare`：

- Anber Arif, 2024, Blog, Guide to Time-Series Analysis in Python. [read](https://www.tigerdata.com/blog/how-to-work-with-time-series-in-python)

参考资料：

- 张祖冲, 2025, [akshare 与 Python：中国金融数据分析与获取的开源首选工具](https://www.lianxh.cn/details/1642.html).


# B869：如何理解 p 值

- Hannah Volk-Jesussek. p-value. 2025. Blog at https://numiqo.com/. [-Link-](https://numiqo.com/tutorial/p-value), [YouTube 视频](https://youtu.be/1k7n6BnugEM)
  - 请观看作者的 YouTube 视频，并将里面的细节整理后写入这篇推文。 
  - 其它内容可以酌情补充


# B868：cwmglm：Cluster-weighted models using Stata

写一篇推文介绍这个方法的基本思想、应用场景和 Stata 实操步骤，适当精简这篇论文，翻译为中文，酌情删减或补充。

写作过程中可以借助 AI 工具辅助完成，但请确保内容准确无误，并符合学术规范。
- AI 辅助读论文：参见 [连玉君-Research with AI](https://lianxhcn.github.io/research_with_AI/), Chatper 7-9.

Spinelli, D., Ingrassia, S., & Vittadini, G. (2024). Cluster-weighted models using Stata. The Stata Journal, 24(4), 711–745. [Link](https://journals.sagepub.com/doi/10.1177/1536867X241297922), [PDF](https://d1wqtxts1xzle7.cloudfront.net/115819483/2024Stata_J_AAM-libre.pdf?1717952378=&response-content-disposition=inline%3B+filename%3DCluster_weighted_models_using_Stata.pdf&Expires=1762007528&Signature=T3gj5qLiFfzwoK23V~MuM8WvYKTTAwl5wR8h7as1fY9d0gYSF2KcpStd-urkxhbAZDX4cg-V3qKHHzfK94qGtpb~RcchsDHhamvKaCJDqr0ccsPGbUMXPvxgz0Zc3PT6Ryvi3nWH8lDJULGOysDyyYee3eVu-99p99Aa2Wpi1hUDE1eg8HvbjgctUgjTokezWpj3Y~N9sqPPjgWdRhsyPrbNQNJ5XBe5e-ISG1Dn2S1b5jr~SeD-43XJa2-q83-3GbEyZBJP3DNHti3xZ7dhM4LV2o4SafWiqhEsx43iJUY6SZkgqWPv2eTcf8hzGDnX9kD-TaRy8Zd0LbQmQImWCQ__&Key-Pair-Id=APKAJLOHF5GGSLRBV4ZA), [Google](<https://scholar.google.com/scholar?q=Cluster-weighted models using Stata>).



```stata
net install st0762.pkg, replace 

net get st0762.pkg, replace  // 作者提供的 dofile
```

```stata
covid.dta
cwmglm.do
multinorm.dta
online_supplementary_material.pdf
replication_files.do
students.dta
```



# B867：Stata 绘图：upsetplot 和 vennbar 命令

适当精简这篇论文，翻译为中文，酌情删减或补充。

写一篇推文介绍这个方法的基本思想、应用场景和 Stata 实操步骤，适当精简这篇论文，翻译为中文，酌情删减或补充。

写作过程中可以借助 AI 工具辅助完成，但请确保内容准确无误，并符合学术规范。
- AI 辅助读论文：参见 [连玉君-Research with AI](https://lianxhcn.github.io/research_with_AI/), Chatper 7-9.

Cox, N. J., & Morris, T. P. (2024). Speaking Stata: The joy of sets: Graphical alternatives to Euler and Venn diagrams. The Stata Journal, 24(2), 329–361. [Link](https://journals.sagepub.com/doi/10.1177/1536867X241258010), [PDF](https://journals.sagepub.com/doi/pdf/10.1177/1536867X241258010), [Google](<https://scholar.google.com/scholar?q=Speaking Stata: The joy of sets: Graphical alternatives to Euler and Venn diagrams>).

## 安装
```stata
net describe gr0095
net install gr0095.pkg, replace 
net get gr0095.pkg, replace   // 作者提供的 dofile
```

```stata
*-绘图模板
ssc install scheme_scientific, replace
set scheme scientific
```

## Stata 实例

这是用作者提供的 dofile 整理后得到的。

- 你可以在 Stata 中运行代码，得到图片
- 请调整代码的格式，每列宽度不要超过 60 列
- 在附录中统一放置一份完整的代码，以便读者可以直接粘贴到 Stata 中运行

```stata
*-自定义数据集
clear
input Rice Maize Sorghum Arabidopsis freq
    1 0 0 0 1110
    1 1 0 0 229
    0 1 0 0 465
    1 0 1 0 661
    1 1 1 0 2077
    0 1 1 0 405
    0 0 1 0 265
    1 0 1 1 304
    1 1 1 1 8494
    0 1 1 1 112
    0 0 1 1 34
    1 0 0 1 81
    1 1 0 1 96
    0 1 0 1 11
    0 0 0 1 1058
end
label variable Arabidopsis "{it:Arabidopsis}"
save "arms.dta", replace   // 保存以备后用
```

```stata
use "arms.dta", clear

global toptitle "t1title(Number of gene families)"
global paperopts matrixopts(mc(gs8 ..))

upsetplot Arabidopsis Rice Maize Sorghum [fw=freq], ///
          varlabels baropts($toptitle) $paperopts
graph export "B867-speak70a.png", replace width(800)

upsetplot Arabidopsis Rice Maize Sorghum [fw=freq], ///
          varlabels baropts($toptitle) $paperopts gsort(_decimal) 
graph export "B867-speak70b.png", replace width(800)

upsetplot Arabidopsis Rice Maize Sorghum [fw=freq], ///
          varlabels gsort(_degree -_freq) $paperopts baropts($toptitle) 
graph export "B867-speak70c.png", replace width(800)

upsetplot Arabidopsis Rice Maize Sorghum [fw=freq], ///
          varlabels gsort(-_degree -_freq) $paperopts baropts($toptitle) 



upsetplot Arabidopsis Rice Maize Sorghum [fw=freq], ///
          varlabels gsort(-_degree -_freq) $paperopts baropts($toptitle) savedata("schnable")

use "schnable", clear
graph hbar (asis) _setfreq,  ///
      over(_set, sort(1)) blabel(bar) ///
      ysc(off) $toptitle 


webuse "nlswork.dta", clear

foreach v in ind_code union wks_ue tenure wks_work {
    generate M`v' = missing(`v')
    label variable M`v' "`v'"
}

local toptitle "t1title(Number of missing values)"
local paperopts "matrixopts(mc(gs8 ..))"
upsetplot M*, ///
          varlabels baropts($toptitle) labelopts(mlabsize(vsmall)) $paperopts 
graph export "B867-speak70d.png", replace width(800)

upsetplot M* if missing(ind_code, union, wks_ue, tenure, wks_work), ///
          varlabels baropts($toptitle) labelopts(mlabsize(vsmall)) $paperopts gsort(_degree -_freq) 
graph export "B867-speak70e.png", replace width(800)

use "arms.dta", clear 
local toptitle "t1title(Number of gene families)"

vennbar Arabidopsis Rice Maize Sorghum [fw=freq], $toptitle varlabels ysc(alt) ysc(r(. 9200)) 
graph export "B867-speak70f.png", replace width(800)


vennbar Arabidopsis Rice Maize Sorghum [fw=freq], $toptitle varlabels sep("; ") ysc(r(0 10000)) recast(dot) linetype(line) lines(lc(gs8) lw(thin)) 

vennbar Arabidopsis Rice Maize Sorghum [fw=freq],  over(_text, sort(_freq) descending) over(_degree, descending) nofill $toptitle ysc(alt range(. 9200)) 
graph export "B867-speak70g.png", replace width(800)

webuse "nlswork.dta", clear
foreach v in ind_code union wks_ue tenure wks_work {
gen M`v' = missing(`v')
label variable M`v' "`v'"
}
local toptitle  "t1title(Number of missing values)"

vennbar M*, $toptitle  varlabels name(joyFig8, replace) 
graph export "B867-speak70h.png", replace width(800)

vennbar M* if missing(ind_code, union, wks_ue, tenure, wks_work), ///
    $toptitle varlabels ///
    over(_text, sort(_freq) descending) ///
    over(_degree) nofill ysc(r(. 9200)) 
graph export "B867-speak70i.png", replace width(800)
```

# B866：翻译-免费在线数据库汇总

> Source: [Economic Data freely available online](https://economicsnetwork.ac.uk/links/data_free/#aea-data-links)


